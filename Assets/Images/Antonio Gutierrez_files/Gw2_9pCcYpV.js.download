if (self.CavalryLogger) { CavalryLogger.start_js(["kDkMR"]); }

__d("ComposedEntityMutabilityToName",[],(function(a,b,c,d,e,f){e.exports={0:"MUTABLE",1:"IMMUTABLE",2:"SEGMENTED"}}),null);
__d("ComposedEntityTypeToName",[],(function(a,b,c,d,e,f){e.exports={0:"MENTION",1:"LINK",2:"IMAGE",3:"VIDEO",4:"EMOTICON",5:"TOKEN",6:"HASHTAG",7:"IMPLICIT_LINK",8:"EMBED",9:"EMOJI",10:"MATH",11:"HIGHLIGHT",12:"DELIGHT",13:"TEMPLATE_VARIABLE",14:"ASSISTANT_TYPEAHEAD"}}),null);
__d("MessengerThreadThemesWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2657173167695729"};b.getQueryID=function(){return"737698543408283"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("CustomizeThreadThemeUtil",["CurrentUser","MessengerThreadThemesWebGraphQLQuery","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a){h(a)}function c(a){h(a)}function h(a){__p&&__p();var c=b("CurrentUser").isWorkUser()?"WORKPLACE_VERSION0":"M4_VERSION0_WITH_GKS";g[c]?a(g[c]):b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadThemesWebGraphQLQuery"))({version:c})),function(b){__p&&__p();if(b&&b.messenger_thread_themes&&Array.isArray(b.messenger_thread_themes)){var d=[];b.messenger_thread_themes.forEach(function(a){if(!a.id)return;if(!a.fallback_color)return;if(!a.accessibility_label)return;a={id:a.id,fallback_color:a.fallback_color,accessibility_label:a.accessibility_label,gradient_colors:a.gradient_colors,icon_uri:(a=a==null?void 0:(a=a.icon_asset)==null?void 0:(a=a.image)==null?void 0:a.uri)!=null?a:void 0};d.push(a)});g[c]=d;a(d)}})}e.exports={fetchThemesForChat:a,fetchThemesForMessenger:c}}),null);
__d("MessengerEagerThreadLoader",["MercuryThreadInformer","MessengerConfig","MessengerState.re","Run"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=10,h=b("MessengerConfig").MessageLoadCount,i=!1,j=null;function k(a,c){if(b("MessengerState.re").hasLoadedNMessages(a,c,2))return;b("MessengerState.re").getThreadMessagesRange(a,c,0,h,function(){})}a={subscribe:function(a){__p&&__p();var c=b("MercuryThreadInformer").get();j=c.subscribe("threadlist-updated",function(c,d){if(!i)b("Run").onAfterLoad(function(){d.slice(0,g).concat(b("MessengerState.re").getPinnedThreadlist(a)).map(function(b){k(a,b)})}),i=!0;else if(d.length>0){c=b("MessengerState.re").getThreadMetaNow(a,d[0]);c&&c.unread_count>0&&k(a,d[0])}})},unsubscribe:function(){var a=b("MercuryThreadInformer").get();a.unsubscribe(j);j=null}};e.exports=a}),null);
__d("ComposedEntityMutability",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MUTABLE:0,IMMUTABLE:1,SEGMENTED:2})}),null);
__d("MessengerConstants",[],(function(a,b,c,d,e,f){"use strict";a={NEW_THREAD_KEY:"new",BROWSER_EXTENSIONS_DIALOG_DIMENSIONS:{HEIGHT:604,WIDTH:405}};e.exports=a}),null);
__d("MessengerEditorStateManager",["CacheStorage","ComposedEntityMutability","ComposedEntityMutabilityToName","ComposedEntityTypeToName","CurrentUser","DraftEntityInstance","EditorState","FBLogger","LogHistory","MessengerConstants","SelectionState","decodeBlocks","encodeBlocks","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ComposedEntityMutability").IMMUTABLE,i=b("LogHistory").getInstance("messenger_editor_state_manager"),j=new(b("CacheStorage"))("localstorage","msgdraft:"),k=new(b("CacheStorage"))("memory"),l=!1,m;a={get:function(a){__p&&__p();if(a==null)return this._getEmptyEditorState();if(a===b("MessengerConstants").NEW_THREAD_KEY)return m||this._getEmptyEditorState();var c=j.get(this._getKey(a),!1);l&&(c?(k.set(a,c),j.remove(this._getKey(a))):c=k.get(a,!1));if(!c)return this._getEmptyEditorState();a=c.encodedBlocks;var d=(g||(g=b("mapObject")))(a.entityMap,function(a,c){return new(b("DraftEntityInstance"))({type:b("ComposedEntityTypeToName")[a.type],mutability:b("ComposedEntityMutabilityToName")[h],data:a.data})});a=b("decodeBlocks")(a.blocks,d);d=b("EditorState").createWithContent(a);return b("EditorState").acceptSelection(d,new(b("SelectionState"))(c.selection))},set:function(a,c){if(a===b("MessengerConstants").NEW_THREAD_KEY){m=c;return}var d=b("encodeBlocks")(c.getCurrentContent());c=c.getSelection();var e=c.toJS(),f=l?k:j;f=f.set(this._getKey(a),{encodedBlocks:d,selection:e});f||(this._logWriteError(a),this._switchToMemoryStore(a,d,c))},_getKey:function(a){return b("CurrentUser").getID()+":"+a},_logWriteError:function(a){var c=j.getLastSetExceptionMessage(),d=j.getStorageKeyCount();b("FBLogger")("messenger_dot_com").warn("Fail to write to MessengerEditorState %s  %s",c,d);i.debug("set_editor_state_fail",JSON.stringify({threadID:a,error:c,keysCount:d}))},_switchToMemoryStore:function(a,c,d){if(!l){b("FBLogger")("messenger_dot_com").warn("Switching to MemoryStorage");i.debug("Switching to memoryStorage");l=!0;d=d.toJS();k.set(a,{encodedBlocks:c,selection:d})}},_getEmptyEditorState:function(){var a=b("EditorState").createEmpty();return b("EditorState").forceSelection(a,a.getSelection())}};e.exports=a}),null);
__d("MessengerWorkContextInformationWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2100811943310675"};b.getQueryID=function(){return"282206062494175"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MercuryWorkContextInformation",["EventEmitter","KeyedCallbackManager","MercuryDispatcher","MercurySingletonProvider","MessengerWorkContextInformationWebGraphQLQuery","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$4=new Map();this.$6=function(a){__p&&__p();if(a&&a.user!=null&&a.user.id!=null&&a.user.scim_company_user){var b=a.user.id;a=a.user.scim_company_user;var d=a.work_phone_numbers!=null?a.work_phone_numbers.nodes.filter(function(a){return a.is_primary_number===!0&&a.user_phone_number_type}).shift():null,e=a.work_location!=null?a.work_location.nodes[0]:null,f={};f[b]={phone:d?[d.user_phone_number_for_display]:null,email:a.email!=null&&a.is_emailless!==!0?[a.email]:null,location:e?[e.user_formatted_address]:null};c.$3.addResourcesAndExecute(f);c.$4.set(b,!1);g.emit("change")}};this.$1=a;this.$2=b("MercuryDispatcher").getForFBID(this.$1);this.$3=new(b("KeyedCallbackManager"))();this.$4=new Map()}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var c=a.prototype;c.getTopThreads=function(){return this.$3.getAllResources()};c.getOrFetch=function(a){if(a==null)return null;var b=this.$3.getResource(a);if(b)return b;this.$5(a);return null};c.$5=function(a){if(this.$4.get(a))return;this.$4.set(a,!0);b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerWorkContextInformationWebGraphQLQuery"))({id:a})),this.$6)};a.addListener=function(a,b){return g.addListener(a,b)};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerComposerActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null,MOVE_DRAFT:null});a={Types:g,addToken:function(a){b("MessengerDispatcher").dispatch({type:g.ADD_TOKEN,entry:a})},moveDraftToNextThread:function(a){b("MessengerDispatcher").dispatch({type:g.MOVE_DRAFT,threadID:a})},removeToken:function(a){b("MessengerDispatcher").dispatch({type:g.REMOVE_TOKEN,entry:a})},focusComposer:function(){b("MessengerDispatcher").dispatch({type:g.FOCUS_COMPOSER})},focusTypeahead:function(){b("MessengerDispatcher").dispatch({type:g.FOCUS_TYPEAHEAD})},exitComposeState:function(){b("MessengerDispatcher").dispatch({type:g.EXIT_COMPOSE_STATE})},exitComposeStateAbandonSearch:function(){b("MessengerDispatcher").dispatch({type:g.EXIT_COMPOSE_STATE,abandon_search:!0})}};e.exports=a}),null);
__d("MessengerComposerState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({step:null,recipients:b("immutable").List()});a.__TCmeta={type:"MessengerComposerState"};e.exports=a}),null);
__d("MessengerComposerSteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});e.exports=a}),null);
__d("MessengerComposerStore",["EditorState","MessengerActions","MessengerBootloadedSecondarySearchLogger","MessengerComposerActions","MessengerComposerState","MessengerComposerSteps","MessengerConstants","MessengerDispatcher","MessengerEditorStateManager","MessengerSecondarySearchFunnelConstants","MessengerStore","MessengerURIStore","MessengerView","immutable","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("MessengerComposerState"))({step:b("MessengerComposerSteps").NULL,recipients:b("immutable").List()});c=(a=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var h=c.CLICK_OTHER_THREAD,i=c.END,j=c.START,k=c.RESULT_SELECTED,l=c.TOKEN_REMOVED;d=a.END_ACTIONS;var m=d.ABANDON,n=d.ENTER_THREAD,o=a.CLIENTS.MESSENGER_DOT_COM,p=a.SELECTION_TYPES.ADD,q=a.ENTRY_SURFACES.COMPOSER,r=a.LOGGING_IDS.M_APP_COMPOSER;f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerComposerStore1=g;return b}var d=c.prototype;d.getState=function(){return this.$MessengerComposerStore1};d.__onDispatch=function(a){__p&&__p();b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var c=b("MessengerURIStore").getState().detailView,d=this.$MessengerComposerStore1.recipients,e=this.$MessengerComposerStore1.step,f=null,g=null;switch(a.type){case b("MessengerComposerActions").Types.ADD_TOKEN:if(d.some(function(b){return b.getUniqueID()===a.entry.getUniqueID()}))break;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:k,id:a.entry.getUniqueID(),query:null,surface:q,loggingID:r,selectionType:p});f=d.push(a.entry);break;case b("MessengerComposerActions").Types.REMOVE_TOKEN:var s=a.entry.getUniqueID(),t=d.findIndex(function(a){return a.getUniqueID()===s});t!==-1&&(f=d["delete"](t),b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:l,clearedAll:!1,deletedIDs:[a.entry.getUniqueID()],loggingID:r}));break;case b("MessengerComposerActions").Types.FOCUS_COMPOSER:e===b("MessengerComposerSteps").SELECT_RECIPIENTS&&(g=b("MessengerComposerSteps").COMPOSE);break;case b("MessengerComposerActions").Types.FOCUS_TYPEAHEAD:e===b("MessengerComposerSteps").COMPOSE&&(g=b("MessengerComposerSteps").SELECT_RECIPIENTS);break;case b("MessengerActions").Types.REPLACE_STATE:t=b("MessengerURIStore").getPrevState().detailView;t!==b("MessengerView").DETAIL.COMPOSE&&c===b("MessengerView").DETAIL.COMPOSE?(g=b("MessengerComposerSteps").SELECT_RECIPIENTS,b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:j,client:o,surface:q,loggingID:r})):t===b("MessengerView").DETAIL.COMPOSE&&c!==b("MessengerView").DETAIL.COMPOSE&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:h,loggingID:r});break;case b("MessengerComposerActions").Types.MOVE_DRAFT:t=a.threadID.split(":");c=t.length>1?t[1]:"";b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:c,isNewThread:!1});b("MessengerEditorStateManager").set(a.threadID,b("MessengerEditorStateManager").get(b("MessengerConstants").NEW_THREAD_KEY));break;case b("MessengerComposerActions").Types.EXIT_COMPOSE_STATE:var u=b("EditorState").createEmpty();b("setTimeout")(function(){b("MessengerEditorStateManager").set(b("MessengerConstants").NEW_THREAD_KEY,b("EditorState").forceSelection(u,u.getSelection()))},0);a.abandon_search?b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:m}):b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:a.threadID,isNewThread:!1});g=b("MessengerComposerSteps").NULL;f=b("immutable").List();break}(f||g)&&(this.$MessengerComposerStore1=new(b("MessengerComposerState"))({step:g||e,recipients:f||d}),this.emitChange())};return c}(b("MessengerStore"));e.exports=new f()}),null);
__d("MessengerThreadListLoggerUtil",["MessagingTag","QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=1;function i(a,c){return!a||!a.includes(b("MessagingTag").INBOX.toUpperCase())?null:c==null?25296905:25296906}function j(a,b,c){return[].concat(a||[],[b,c]).filter(Boolean).join("_")}function a(a,c,d){var e=i(a,c);if(!e)return;b("QuickPerformanceLogger").markerStart(e,h);g.set(j(a,c,d),h);h++}function c(a,c,d,e){var f=i(a,c);if(!f)return;a=j(a,c,d);c=g.get(a);c!=null&&(b("QuickPerformanceLogger").markerEnd(f,e,c),g["delete"](a))}e.exports={markerStart:a,markerEnd:c}}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3333994770009086"};b.getQueryID=function(){return"420788232162942"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGraphQLThreadlistFetcher.bs",["Promise","Utils.bs","gkx","bs_js_dict","BanzaiODS","bs_caml_array","WebGraphQL","bs_caml_format","bs_caml_option","CurrentUser","MercuryServerRequestsConfig","MessengerThreadListLoggerUtil","ChatReliabilityInstrumentation","MessengerServerPayloadTransformer.bs","MessengerThreadlistWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){b("MessengerThreadListLoggerUtil").markerStart(a.tags,a.timestamp,a.limit);return new(b("MessengerThreadlistWebGraphQLQuery"))({limit:a.limit,before:a.timestamp,tags:a.tags,isWorkUser:b("CurrentUser").isWorkUser(),includeDeliveryReceipts:a.includeDeliveryReceipts,includeSeqID:a.includeSeqID,onlyPinnedThreads:a.onlyPinnedThreads,is_work_teamwork_not_putting_muted_in_unreads:b("gkx")("1105011")})}function h(a,c,d,e){__p&&__p();var f=[],g=[],h={},i=[],j={},k=[void 0],l=[0],m=[];e.forEach(function(e,n){__p&&__p();n=b("bs_caml_array").caml_array_get(c,n);var o=b("Utils.bs").optionBoolToBool(b("bs_caml_option").nullable_to_opt(n.onlyPinnedThreads)),p=[],q=[],r=[],s=e.viewer.pending_threads;s==null||(l[0]=s.unseen_count);e.viewer.message_threads.nodes.forEach(function(c){__p&&__p();if(c==null)return 0;else{var e=b("MessengerServerPayloadTransformer.bs").transformThread(a,c,d),g=b("MessengerServerPayloadTransformer.bs").transformParticipants(c);g.forEach(function(a){j[a.fbid]=a;return 0});var k;if(e.is_canonical){g=e.other_user_fbid;g==null?k=null:(p.push(g),k=g)}else{g=e.thread_fbid;g==null?k=null:(q.push(g),k=g)}r.push(e.thread_id);f.push(e);if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(a,c);g!==void 0&&(h[k]=b("bs_caml_option").valFromOption(g))}if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(c);if(g.length!==0){c=g[0];e.is_canonical?i.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)}):i.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)})}}if(!(k==null)&&o){m.push(k);return 0}else return 0}});s=e.viewer.message_threads.sync_sequence_id;s==null||(k[0]=b("bs_caml_format").caml_int_of_string(s));if(o)return 0;else{e=n.timestamp;g.push({folder:n.folder,other_user_fbids:p,thread_fbids:q,thread_ids:r,filter:n.filter,limit:e==null?n.limit:n.limit-1|0});return 0}});return{threads:f,ordered_threadlists:g,pending_folder_unseen_count:l[0],roger:h,delivery_receipts:i,participants:b("bs_js_dict").values(j),sequence_id:k[0],pinned_thread_ids:m}}function i(a,c){a.forEach(function(a){b("MessengerThreadListLoggerUtil").markerEnd(a.tags,a.timestamp,a.limit,c);return 0});return 0}function a(a,c,d,e){var f=c.map(g);return b("Promise").all(b("WebGraphQL").execAll(f,{actorID:d?a:null,batchName:"MessengerGraphQLThreadlistFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".failure");i(c,"FAIL");b("ChatReliabilityInstrumentation").logERROR("fetch_thread_list_fail");return b("Promise").reject(a)}).then(function(f){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql",e+".success");i(c,"SUCCESS");return h(a,c,d,f)})}f._getQuery=g;f.transform=h;f.markerEnd=i;f.fetchAll=a}),null);
__d("MessengerInitialDataTransformer.bs",["MercuryThreadlistConstants","MessengerGraphQLThreadlistFetcher.bs","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.viewer,d=a.is_page,e=a.additional_participant,f;if(e==null)f=[];else{var g=[];e.messaging_actors.forEach(function(a){if(a==null)return 0;else{g.push(b("MessengerServerPayloadTransformer.bs").transformParticipant(a));return 0}});f=g}e=a.thread_list;e=e==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],d,[e]);var h=a.pinned_threads;h=h==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").MAX_PINNED_THREADS+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],!1,[h]);var i=a.current_thread,j;if(i==null)j=null;else{i=i.message_thread;j=i==null?null:b("MessengerServerPayloadTransformer.bs").transformThread(c,i,d)}c=e==null?[[],0,[],{},[],[]]:[e.ordered_threadlists,e.pending_folder_unseen_count,e.threads,e.roger,e.participants,e.delivery_receipts];i=c[2];d=a.thread_key;e=d==null?i.filter(function(a){return a.unread_count===0}):[];if(e.length>0){d=e[0];e=d.is_canonical;e=e?d.other_user_fbid:d.thread_fbid}else e=null;j==null||i.push(j);d=h==null?[]:h.threads;j=d.map(function(b){var a=b.is_canonical;a=a?b.other_user_fbid:b.thread_fbid;if(a==null)return null;else return a});h=i.concat(d);return[{ordered_threadlists:c[0],threads:h,roger:c[3],participants:c[4].concat(f),pending_folder_unseeen_count:c[1],delivery_receipts:c[5],payload_source:"server_initial_data",pinned_thread_ids:j,current_montage_thread:a.current_montage_thread},e]}f.transform=a}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerMDotMeReferralStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=a.refCode,this.$MessengerMDotMeReferralStore1.refThreadID=a.refThreadID,this.emitChange()}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerSearchConfirmationDialogReact.bs",["fbt","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerSearchConfirmationDialog");function i(a,c,d){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(a){var d,e;return(d=b("ReasonReact.bs")).element(void 0,void 0,(e=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,a[1][0],void 0,void 0,void 0,void 0,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Search for \"{term}\"?",[g._param("term",c)])}),d.element(void 0,void 0,e.Footer.make(void 0,void 0,[d.element(void 0,void 0,e.Button.make(2,g._("OK"),void 0,void 0,function(c){return b("bs_curry")._1(a[3],0)},0,void 0,void 0,void 0,[])),d.element(void 0,void 0,e.CancelButton.make(void 0,[]))]))]))},function(a){return[!0]},h[10],function(c,d){return b("bs_block").__(2,[[!1],function(c){return b("bs_curry")._1(a,0)}])},h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.onSearch,a.term,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerSearchStore",["MessengerActions","MessengerDispatcher","MessengerSearchActions","MessengerSearchWebGraphQLFetcher","MessengerStore","MessengerUniversalSearchFunnelLoggerConstants","MessengerURIStore","MessengerView","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").List;var g=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,h={activeThreadID:null,loading:!1,query:null,results:a(),threadID:null,totalCount:0,threads:[],threadsExhausted:null},i=10,j=100;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b;b=a.call(this)||this;b.$MessengerSearchStore6=function(a,c){a.length>i?(a.pop(),b.$MessengerSearchStore2=b.$MessengerSearchStore2.concat(a.map(function(a){return a.getUniqueID()})),b.$MessengerSearchStore4.threads&&(a=b.$MessengerSearchStore4.threads.concat(a)),b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:a,threadsExhausted:a.length===j})):(b.$MessengerSearchStore4.threads&&(a=b.$MessengerSearchStore4.threads.concat(a)),b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:a,threadsExhausted:!0}));b.emitChange();return};b.$MessengerSearchStore7=function(a,c){b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:[]})};b.$MessengerSearchStore1="";b.$MessengerSearchStore3="";b.$MessengerSearchStore2=[];b.$MessengerSearchStore4=h;return b}var d=c.prototype;d.getForFBID=function(a){this.$MessengerSearchStore1=a};d.$MessengerSearchStore5=function(){return this.$MessengerSearchStore3};d.getState=function(){return this.$MessengerSearchStore4};d.__onDispatch=function(a){__p&&__p();var c=this;b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var d=b("MessengerURIStore").getState(),e=d.activeThreadID,f=d.masterView,h=d.sa;d=d.seeAllType;h=h;this.$MessengerSearchStore3=h||"";switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:if(h&&this.$MessengerSearchStore4.query!==h||this.$MessengerSearchStore4.threadID!==e){if(h&&d){this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,{query:h,loading:!0,threads:[]});a=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return c.$MessengerSearchStore5()},g);this.$MessengerSearchStore2=[];a.fetchMSSAQEntries(this.$MessengerSearchStore3,d,i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7)}else this.$MessengerSearchStore8();this.emitChange()}break;case b("MessengerSearchActions").Types.LOAD_MORE_RESULTS:if(!d)return;this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,{loading:!0});e=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return c.$MessengerSearchStore5()},g);f===b("MessengerView").MASTER.SEE_ALL_GROUPS?e.fetchMSSAQEntries(this.$MessengerSearchStore3,d,this.$MessengerSearchStore2.length+i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7,this.$MessengerSearchStore2):e.fetchMSSAQEntries(this.$MessengerSearchStore3,d,i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7,this.$MessengerSearchStore2);this.emitChange();break}};d.$MessengerSearchStore8=function(){this.$MessengerSearchStore9(["threads","threadsExhausted","loading"])};d.$MessengerSearchStore9=function(a){a=a.reduce(function(a,b){a[b]=h[b];return a},{});this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,a)};return c}(b("MessengerStore"));e.exports=new c()}),null);
__d("MercurySearchContextResults",["KeyedCallbackManager","MercuryAPIArgsSource","MercuryIDs","MercuryThreadlistConstants","MercuryThreadIDMap","RangedCallbackManager","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MessengerMessageTransformer.bs","WebMessengerConstants"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryThreadIDMap").get(),h=b("MercuryServerPayloadPreprocessor").get(),i=new(b("KeyedCallbackManager"))(),j=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,k=b("WebMessengerConstants").MORE_SEARCH_CONTEXT_COUNT;a={getSearchContext:function(a,c,d){__p&&__p();if(a){var e=i.executeOrEnqueue(a,function(b){b=m(b,a);d(b)}),f=i.getUnavailableResources(e);if(f.length){var h={message_id:a,limit:j+1};g.getServerIDFromClientID(c,function(a){var d=b("MercuryIDs").tokenize(c);d.type=="user"?h.other_user_fbid=a:h.thread_fbid=a;n(h)})}return e}},getMoreSearchContext:function(a,c,d,e){__p&&__p();if(a){var f=i.getResource(a);if(f){var h=d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?f.up_message_ids:f.down_message_ids,j=h.getCurrentArraySize()+k,l=h.executeOrEnqueue(0,j,function(){var b=m(f,a);e(b)});h=h.getUnavailableResources(l);if(h.length){h={message_id:a,limit:j,direction:d};j=g.getServerIDFromClientIDNow(c);d=b("MercuryIDs").tokenize(c);d.type=="user"?h.other_user_fbid=j:h.thread_fbid=j;n(h)}return l}}},handleUpdate:function(a){__p&&__p();if(a.graphql_payload){var c=a.graphql_payload.map(function(c){return b("MessengerMessageTransformer.bs").transformMessage(a.viewer,c,a.thread_data,a.for_page)});h.handleUpdate({actions:c,payload_source:"server_search"})}c=a.search_context||{};for(var d in c){var e=c[d],f=e.other_user_fbid||e.thread_fbid;f=g.getClientIDFromServerIDNow(f.toString());var m=!i.getResource(d);f=m?{thread_id:f,up_message_ids:new(b("RangedCallbackManager"))(),down_message_ids:new(b("RangedCallbackManager"))()}:i.getResource(d);var n=m?j+1:k;e.up_message_ids&&(f.up_message_ids.getCurrentArraySize()===0||e.up_message_ids.length>=f.up_message_ids.getCurrentArraySize())&&l(f.up_message_ids,e.up_message_ids,n);e.down_message_ids&&(f.down_message_ids.getCurrentArraySize()===0||e.down_message_ids.length>=f.down_message_ids.getCurrentArraySize())&&l(f.down_message_ids,e.down_message_ids,n);m&&i.setResource(d,f)}},unsubscribe:function(a,c,d){if(c){c=i.getResource(c);c?d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?c.up_message_ids.unsubscribe(a):c.down_message_ids.unsubscribe(a):i.unsubscribe(a)}}};function l(a,b,c){var d=a.getCurrentArraySize();d=b.length<d+c;b.length&&(a.removeAllResources(),a.addResourcesWithoutSorting(b,0));d&&a.setReachedEndOfArray()}function m(a,b){var c=a.up_message_ids.hasReachedEndOfArray(),d=a.up_message_ids.getAllResources();c||d.shift();var e=a.down_message_ids.hasReachedEndOfArray(),f=a.down_message_ids.getAllResources();e||f.pop();return{thread_id:a.thread_id,message_id:b,up_message_ids:d,up_exhausted:c,down_message_ids:f,down_exhausted:e}}function n(a){a.client=b("MercuryAPIArgsSource").WEBMESSENGER,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_context.php",a)}b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_context.php":{mode:b("MercuryServerDispatcher").IMMEDIATE,handler:a.handleUpdate}});e.exports=a}),null);
__d("MercurySearchSnippetResults",["MercuryAPIArgsSource","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonMixin","MercuryThreadIDMap","MercuryThreadlistConstants","MessengerEnvironment","MessengerServerPayloadTransformer.bs","RangedCallbackManager"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MessengerEnvironment").messengerui?b("MercuryAPIArgsSource").MESSENGER:b("MercuryAPIArgsSource").WEBMESSENGER,h={},i={},j=null,k=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,l=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_LIMIT,m=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_MORE;a=function(){"use strict";__p&&__p();function a(a){var c=this;this.$1=a;this.$2=b("MercuryServerPayloadPreprocessor").getForFBID(a);b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_snippets.php":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a){c.handleUpdate(a)}}});this.$3=b("MercuryThreadIDMap").getForFBID(a)}var c=a.prototype;c.getFBID=function(){return this.$1};c.getThreadIDMap=function(){return this.$3};c.getAllThreadSearchResults=function(a,b){a&&n(this.$1,a,l,0,b)};c.getAllLocalThreadSearchResults=function(a,b){if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,0,c,b)}}};c.getAllThreadSearchMoreResults=function(a,b){if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,m,c,b)}}};c.getSingleThreadSearchResults=function(a,b,c){if(!a||!b)return;o.call(this,a,b,k,0,c)};c.getSingleThreadSearchMoreResults=function(a,b,c){__p&&__p();if(!a||!b)return;if(!i[b])return;var d=i[b][a];if(d){var e=d.num_total_snippets;d=d.snippets_cbm.getCurrentArraySize();e=e-d;if(e>0){e=e>m?m:e;o.call(this,a,b,e,d,c)}}};c.countSnippetsMatchingQueryInThread=function(a,b){b=i[b][a];if(b)return b.num_total_snippets};c.findIndexOfSnippet=function(a,b,c,d){d=t(a,b);a=d.getAllResources();for(var b=0;b<a.length;b++)if(c===a[b].message_id)return b};c.findSnippetAtIndex=function(a,b,c,d){q(a,b,c),r.call(this,a,b,c,d)};c.handleUpdate=function(a){__p&&__p();var c=this;if(a.graphql_payload){var d=(a.graphql_payload.message_threads||[]).map(function(d){return b("MessengerServerPayloadTransformer.bs").transformThread(c.$1,d,a.is_page)});this.$2.handleUpdate({threads:d,payload_source:"server_search"})}else a.mercury_payload&&this.$2.handleUpdate(a.mercury_payload);var e=a.search_snippets||{};Object.keys(e).filter(function(a){return!!e[a]}).forEach(function(a){Object.keys(e[a]).forEach(function(b){if(!e[a][b].snippets)return;e[a][b].snippets.forEach(function(a){a.matched_keywords=p(a.matched_keywords)})})});d=a.offset;var f=[];for(var g in e){var h=e[g];for(var j in h){var k=h[j],l=a.other_user_fbid||a.thread_fbid,m=this.$3.getClientIDFromServerIDNow(j),n=k.snippets,o=t(g,m),q=o.getCurrentArraySize();if(!l){f.push(m);if(q)continue}else if(d!=q)continue;m=i[m][g];m.num_total_snippets=k.num_total_snippets;k=n?n.length:0;k>0&&o.addResourcesWithoutSorting(n,q);(!l||a.limit>k)&&(o.getCurrentArraySize()==m.num_total_snippets&&o.setReachedEndOfArray())}if(!l){n=s(g);q=n.getCurrentArraySize();d==q&&(n.addResourcesWithoutSorting(f,q),a.limit>f.length&&n.setReachedEndOfArray())}}};return a}();function n(a,b,c,d,e){__p&&__p();if(j&&!j.thread_id){var f=s(j.query);f.unsubscribe(j.subscriber_id);j=null}var f=s(b),g=d+c;g=f.executeOrEnqueue(0,g,function(a){var c={};for(var d=0;d<a.length;d++){var g=a[d],h=i[g][b];c[g]={num_total_snippets:h.num_total_snippets,snippets:h.snippets_cbm.getAllResources()}}f.getCurrentArraySize()===l&&f.setReachedEndOfArray();g=f.hasReachedEndOfArray();e(c,g)});var h=f.getUnavailableResources(g);if(h.length){j={query:b,thread_id:null,subscriber_id:g};h={query:b,offset:d,limit:c+1,snippetLimit:k};h.identifier="thread_fbid";u(h,a)}}function o(a,b,c,d,e){__p&&__p();var f=this;if(j&&j.thread_id){var g=t(j.query,j.thread_id);g.unsubscribe(j.subscriber_id);j=null}var g=t(a,b),h=d+c;h=g.executeOrEnqueue(0,h,function(){var d=g.getAllResources(),c=i[b][a].num_total_snippets;e(d,c)});if(!g.getUnavailableResources(h).length)return;j={query:a,thread_id:b,subscriber_id:h};this.getThreadIDMap().getServerIDFromClientID(b,function(b){b={query:a,snippetOffset:d,snippetLimit:c,thread_fbid:b,identifier:"thread_fbid"};u(b,f.getFBID())})}function p(a){if(a instanceof Array){var b={};for(var c=0;c<a.length;c++)b[c.toString()]=a[c];return b}else return a}function q(a,b,c){}function r(a,b,c,d){__p&&__p();var e=i[b][a],f=e.snippets_cbm.getAllResources();e=e.num_total_snippets;var g=f.length;if(c<g){d(f[c].message_id);return}f=e-g;e=f>m?m:f;o.call(this,a,b,e,g,function(e,f){r.call(this,a,b,c,d)})}function s(a){h[a]||(h[a]=new(b("RangedCallbackManager"))());return h[a]}function t(a,c){i[c]||(i[c]={});var d=i[c][a];d||(d={num_total_snippets:-1,snippets_cbm:new(b("RangedCallbackManager"))()},i[c][a]=d);return d.snippets_cbm}function u(a,c){a.client=g,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_snippets.php",a,null,c)}Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MessengerThreadSearchActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CHANGE_RESULT_INDEX:null,GET_MORE_CONTEXT:null,GET_MORE_THREADS:null,UPDATE_THREAD_STATE:null});a={Types:g,selectPrevious:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:1})},selectNext:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:-1})},getMoreSearchContext:function(a,c){b("MessengerDispatcher").dispatch({type:g.GET_MORE_CONTEXT,direction:a,threadID:c})},updateThreadState:function(a,c){b("MessengerDispatcher").dispatch({type:g.UPDATE_THREAD_STATE,threadID:a,mid:c})},loadMoreThreads:function(){b("MessengerDispatcher").dispatch({type:g.GET_MORE_THREADS})}};e.exports=a}),null);
__d("MessengerThreadSearchStore",["cx","Bootloader","ImmutableObject","MercurySearchContextResults","MercurySearchSnippetResults","MessengerActions","MessengerContentSearchFunnelLoggerConstants","MessengerDispatcher","MessengerState.bs","MessengerStore","MessengerThreadSearchActions","MessengerURIStore","MessengerView","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS;var i=a.BROWSE_CONTEXT,j=a.BROWSE_MESSAGE_IN_THREAD,k=a.LOAD_MORE_THREADS,l=a.LOAD_MESSAGE_IN_THREAD,m=a.SELECT_THREAD,n=a.THREAD_IMPRESSIONS,o={activeThreadID:null,downExhausted:null,loading:!1,messages:null,query:null,results:h(),selectedIndex:0,threadID:null,totalCount:0,upExhausted:null,threads:null,threadsExhausted:null,mid:null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerThreadSearchStore2=o;return b}var d=c.prototype;d.getForFBID=function(a){this.$MessengerThreadSearchStore1=a,this.$MessengerThreadSearchStore3=new(b("MercurySearchSnippetResults"))(a)};d.getState=function(){return this.$MessengerThreadSearchStore2};d.$MessengerThreadSearchStore6=function(a,c){var d=this;a&&c?(this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threadID:c,mid:a}),b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return d.setMessages(a)})):(this.$MessengerThreadSearchStore8(),this.$MessengerThreadSearchStore2=o)};d.$MessengerThreadSearchStore9=function(a,b){var c=this;this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getSingleThreadSearchResults(a,b,function(d,e){c.$MessengerThreadSearchStore10({name:m,thread_id:b,has_results:e?e>0:!1}),c.accumulateSearchResultsAndEmitChange(a,b,0,d,e)})};d.$MessengerThreadSearchStore11=function(a){__p&&__p();var b=this;if(a!==this.$MessengerThreadSearchStore2.query){this.$MessengerThreadSearchStore5=Date.now();if(a&&a.length==1){this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,selectedIndex:0,results:h(),totalCount:0});return}this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,loading:!0});this.$MessengerThreadSearchStore3.getAllThreadSearchResults(a,function(a,c){b.setAllThreadResults(a,c);c=Object.keys(a);b.$MessengerThreadSearchStore10({name:n,threads:c})})}else this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore3.getAllLocalThreadSearchResults(a,function(a,c){return b.setAllThreadResults(a,c)})};d.$MessengerThreadSearchStore12=function(a,b,c){var d=this;this.$MessengerThreadSearchStore10({name:j,thread_id:this.$MessengerThreadSearchStore2.threadID});this.$MessengerThreadSearchStore5=Date.now();this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getSingleThreadSearchMoreResults(a,b,function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];d.accumulateSearchResultsAndEmitChange.apply(d,[a,b,c].concat(f))})};d.$MessengerThreadSearchStore13=function(a){var c=this;this.$MessengerThreadSearchStore5=Date.now();this.$MessengerThreadSearchStore10({name:j,thread_id:this.$MessengerThreadSearchStore2.threadID});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0,selectedIndex:a});b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return c.setMessages(a)})};d.__onDispatch=function(a){__p&&__p();var c=this;if(!this.$MessengerThreadSearchStore3)return;b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var d=b("MessengerURIStore").getState(),e=d.activeThreadID,f=d.masterView,g=d.mid;d=d.query;f=f===b("MessengerView").MASTER.SEARCH||f===b("MessengerView").MASTER.SEARCH_MESSAGES;switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:var h=g!=this.$MessengerThreadSearchStore2.mid&&e!=this.$MessengerThreadSearchStore2.activeThreadID;h&&this.$MessengerThreadSearchStore6(g,e);h=this.$MessengerThreadSearchStore2.query!==d||this.$MessengerThreadSearchStore2.threadID!==e;if(h){h=!d||g;h?this.$MessengerThreadSearchStore14():this.$MessengerThreadSearchStore9(d,e);f&&d?this.$MessengerThreadSearchStore11(d):this.$MessengerThreadSearchStore15();this.emitChange()}break;case b("MessengerThreadSearchActions").Types.CHANGE_RESULT_INDEX:g=Math.max(Math.min(this.$MessengerThreadSearchStore2.totalCount-1,this.$MessengerThreadSearchStore2.selectedIndex+a.delta),0);if(g===this.$MessengerThreadSearchStore2.selectedIndex)break;g>=this.$MessengerThreadSearchStore2.results.size?this.$MessengerThreadSearchStore12(d,e,g):this.$MessengerThreadSearchStore13(g);this.emitChange();h=this.$MessengerThreadSearchStore2.results.get(g);this.$MessengerThreadSearchStore10({name:l,mid:h==null?void 0:h.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5});break;case b("MessengerThreadSearchActions").Types.GET_MORE_CONTEXT:this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0,threadID:a.threadID!=null?a.threadID:this.$MessengerThreadSearchStore2.threadID});b("MercurySearchContextResults").getMoreSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,a.direction,function(a){c.setMessages(a),c.$MessengerThreadSearchStore10({name:i})});this.emitChange();break;case b("MessengerThreadSearchActions").Types.GET_MORE_THREADS:this.$MessengerThreadSearchStore4=Date.now();this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getAllThreadSearchMoreResults(d,function(a,b){c.$MessengerThreadSearchStore10({name:k,threads:Object.keys(a),latency:Date.now()-c.$MessengerThreadSearchStore4}),c.setAllThreadResults(a,b)});this.emitChange();break}};d.setAllThreadResults=function(a,c){__p&&__p();var d=this,e=Object.keys(a);e=e.map(function(c){c=b("MessengerState.bs").getThreadMetaNow(d.$MessengerThreadSearchStore1,c);if(!c)return;var e=a[c.thread_id];if(!e)return;return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{snippetCount:e.num_total_snippets}))}).filter(Boolean);this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threads:e,threadsExhausted:c,loading:!1});this.emitChange()};d.$MessengerThreadSearchStore15=function(){this.$MessengerThreadSearchStore16(["threads","threadsExhausted","loading","query","results"])};d.accumulateSearchResultsAndEmitChange=function(a,c,d,e,f){__p&&__p();var g=this;this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,threadID:c,selectedIndex:d||0,results:h(e),totalCount:f||0});if(this.$MessengerThreadSearchStore2.results.size){b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return g.setMessages(a)});a=this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex);this.$MessengerThreadSearchStore10({name:l,mid:a.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5})}else this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{messages:null});this.emitChange()};d.$MessengerThreadSearchStore14=function(){this.$MessengerThreadSearchStore8(),this.$MessengerThreadSearchStore16(["query","threadID","selectedIndex","results","totalCount","downExhausted","loading","messages","upExhausted"])};d.$MessengerThreadSearchStore16=function(a){a=a.reduce(function(a,b){a[b]=o[b];return a},{});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,a)};d.setMessages=function(a){__p&&__p();var c=this,d=b("MessengerState.bs").getMessagesFromIDs(this.$MessengerThreadSearchStore1,[].concat(a.up_message_ids,a.message_id,a.down_message_ids)).map(function(d){if(d&&d.message_id===a.message_id)if(!c.$MessengerThreadSearchStore2.results.isEmpty()){var e=c.$MessengerThreadSearchStore2.results.get(c.$MessengerThreadSearchStore2.selectedIndex),f=e.matched_keywords,g=d.body.indexOf(e.body);e=Object.keys(e.matched_keywords).map(function(a){return{offset:g+Number(a),length:f[a].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},d,{ranges:d.ranges?d.ranges.concat(e):e}))}else return new(b("ImmutableObject"))(babelHelpers["extends"]({},d,{isSelected:!0}));return d}).map(function(a){return new(b("ImmutableObject"))(a)});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{downExhausted:a.down_exhausted,loading:!1,messages:h(d),upExhausted:a.up_exhausted});this.emitChange()};d.$MessengerThreadSearchStore7=function(){return this.$MessengerThreadSearchStore2.mid||this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex).message_id};d.$MessengerThreadSearchStore8=function(){if(this.$MessengerThreadSearchStore2.messages){var a=this.$MessengerThreadSearchStore2.messages.map(function(a){return a.message_id}).toArray();b("MessengerState.bs").invalidateSearchedMessages(this.$MessengerThreadSearchStore1,a)}};d.$MessengerThreadSearchStore10=function(a){__p&&__p();b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(b){__p&&__p();if(b&&a)switch(a.name){case j:b.browseMessageInThread(a.thread_id);break;case k:b.logLoadMoreThreads(a.threads,a.latency);break;case m:b.logThreadSelect(a.thread_id,a.has_results);break;case l:b.loadMessageInThread(a.mid,a.thread_id,a.latency);break;case n:b.logThreadImpressions(a.threads);break;case i:b.logContextBrowse();break}},"MessengerThreadSearchStore")};return c}(b("MessengerStore"));e.exports=new c()}),null);
__d("MessengerNonMount",["ChannelConnection","ChannelManager","CurrentUser","MercuryDeliveryState","MercuryServerPayloadPreprocessor","MercurySyncEnvironment","MercuryThreadIDMap","MercuryWorkContextInformation","MessengerActions","MessengerAttributionTagsStore","MessengerBrowserAlerts","MessengerComposerActions","MessengerComposerStore","MessengerDialogs.bs","MessengerEagerThreadLoader","MessengerInitialDataTransformer.bs","MessengerMDotMeReferralStore","MessengerParticipants.bs","MessengerRTCMessageHandler","MessengerSearchActions","MessengerSearchConfirmationDialogReact.bs","MessengerSearchStore","MessengerSettingsStore","MessengerState.bs","MessengerThreadSearchStore","MessengerURIConstants","MessengerURISerializer","MessengerURIStore","MessengerView","MNPlatformTagsDataManager","React","URI","gkx","goURI","PageHooks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MessengerSearchConfirmationDialogReact.bs").jsComponent;b("PageHooks");b("ChannelManager").startChannelManager();d={initStoresAndListeners:a,dispatchInitialData:c,seedInitialData:k,triggerInitialURI:l};function a(a){i(a),j(a)}function i(a){b("MercuryDeliveryState").getForFBID(a),b("MessengerParticipants.bs"),b("MessengerState.bs"),b("CurrentUser").isWorkUser()&&b("MercuryWorkContextInformation").getForFBID(a),b("MessengerAttributionTagsStore"),b("MessengerComposerStore"),b("MessengerMDotMeReferralStore"),b("MessengerSearchStore").getForFBID(a),b("MessengerSettingsStore"),b("MessengerURIStore"),b("MessengerThreadSearchStore").getForFBID(a)}function j(a){b("MercurySyncEnvironment").setUp(),b("MessengerBrowserAlerts").init(a),b("MessengerRTCMessageHandler").init(),b("ChannelConnection"),b("gkx")("811069")&&b("MessengerEagerThreadLoader").subscribe(a)}function k(a,c){a=b("MercuryServerPayloadPreprocessor").getForFBID(a);if(c.graphqlPayload){var d=b("MessengerInitialDataTransformer.bs").transform(c.graphqlPayload);d=d[0];d.message_blocked_ids=c.mercuryPayload.message_blocked_ids;d.message_ignored_ids=c.mercuryPayload.message_ignored_ids;a.handleUpdate(d)}else a.handleUpdate(c.mercuryPayload)}function l(a,c){__p&&__p();a=c.lastReadThreadKey;if(c.graphqlPayload){var d=b("MessengerInitialDataTransformer.bs").transform(c.graphqlPayload);a=d[1]}d=new(g||(g=b("URI")))(window.location.href);var e=b("MessengerURISerializer").deserialize(d);if(e.query){var f=e.masterView===b("MessengerView").MASTER.SEARCH||e.masterView===b("MessengerView").MASTER.SEARCH_MESSAGES,i=e.query;e.query=null;e.masterView=b("MessengerView").MASTER.RECENT;b("MessengerDialogs.bs").showDialog(function(){return b("React").jsx(h,{term:i,onSearch:function(){f?b("MessengerSearchActions").changeQueryAll(i):b("MessengerSearchActions").changeQuery(i)}})})}b("goURI")(b("MessengerURISerializer").serialize(e),!1,!0);if(d.getPath().match(b("MessengerURIConstants").COMPOSE_SUBPATH+"/?$"))return;if(e.masterView===b("MessengerView").MASTER.PAYMENT)return;b("MessengerActions").changeMDotMeReferral(c.mDotMeReferral,c.mDotMeReferralThreadKey);var j=b("MercuryThreadIDMap").get();e=e.threadKey?j.getClientIDFromServerIDNow(e.threadKey):j.getClientIDFromServerIDNow(a);e?(b("MessengerComposerActions").exitComposeState(),b("MessengerActions").selectThread(e)):d.getPath()==="/"&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(c.messagingSource,c.mDotMeReferralThreadKey&&c.mDotMeReferralThreadKey.toString())}function c(a,b){k(a,b),l(a,b)}e.exports=d}),null);
__d("MessengerMenu.react",["cx","Keys","MenuSeparator.react","MessengerDotComAndInboxM4Check.bs","ReactXUIMenu","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a.isReactLegacyFactory={},a.type=a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d=c.className;c=babelHelpers.objectWithoutPropertiesLoose(c,["className"]);return a.call(this,babelHelpers["extends"]({className:b("joinClasses")(d,"_2i-c"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6_n0":"")+" _150g")},c))||this}var d=c.prototype;d.handleKeydown=function(c,d){return c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").SPACE?a.prototype.handleKeydown.call(this,c,d):!0};return c}(b("ReactXUIMenu"));a(c);c.Item=b("ReactXUIMenu").Item;c.Separator=b("MenuSeparator.react");e.exports=c}),null);
__d("MessengerPopoverMenu.react",["cx","ContextualDialogArrow","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","PopoverMenu.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.isOpen;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isOpen"]);c=b("React").Children.only(c);return b("React").jsx(b("PopoverMenu.react"),babelHelpers["extends"]({className:b("joinClasses")(d,!a.disableArrowKeyActivation||e?"_150g":""),enableActivationOnEnter:!0,layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualLayerUpdateOnScroll"),b("ContextualDialogArrow")]},a,{ref:"menu",children:c}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/employee/beta_mode/",{enabled:{type:"Bool",defaultValue:!1},redirect:{type:"Bool",defaultValue:!0}})}),null);
__d("MessengerBugNub.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","Link.react","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","React","Tooltip","URI","WorkModeConfig","XSettingsEmployeeBetaController","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=i("86836"),l=i("86835"),m=i("86837"),n=b("MessengerMenu.react").Item,o=b("MessengerMenu.react").Separator,p=h._("Report a bug");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("CurrentUser").isEmployee()||this.props.allowExternalReporting!=null&&this.props.allowExternalReporting&&b("gkx")("984969")?b("React").jsxs("div",{className:"_4_xe"+(b("gkx")("678606")?" _2jqn":""),children:[this.$1(),this.$2()]}):null};d.$2=function(){var a=b("CurrentUser").isEmployee()?"/ajax/bugs/employee_report":"/ajax/bugs/report";return b("React").jsx(b("Link.react"),babelHelpers["extends"]({"aria-label":p,href:"#",ajaxify:a,className:"_1fr8",rel:"dialog"},b("Tooltip").propsFor(p),{children:b("React").jsx("div",{className:"_1gng",children:b("React").jsx(b("Image.react"),{src:k})})}))};d.$1=function(){var a=this.props.isBetaEnabled===!0?l:m,c=h._("Internal preferences");return b("CurrentUser").isEmployee()?b("React").jsx(b("MessengerPopoverMenu.react"),babelHelpers["extends"]({className:"_1fr8",menu:this.$3()},b("Tooltip").propsFor(c),{children:b("React").jsx(b("Link.react"),{"aria-haspopup":"true","aria-label":c,className:"_1gng",href:"#",role:"button",children:b("React").jsx(b("Image.react"),{src:a})})})):null};d.$3=function(){__p&&__p();var a=this,c=null;if(this.props.unixName!=null&&this.props.unixName!==""){var d=this.props.unixName+".sb";c=b("React").jsx(n,{label:"Sandbox",onclick:function(){return a.$4(d)}})}return b("React").jsxs(b("MessengerMenu.react"),{children:[b("React").jsx(n,{label:"Public",onclick:function(){return a.$5(!1)}}),b("React").jsx(n,{label:"Beta",onclick:function(){return a.$5(!0)}}),b("React").jsx(o,{}),b("React").jsx(n,{label:"C1 (trunkstable)",onclick:function(){return a.$4()}}),b("React").jsx(n,{label:"Intern",onclick:function(){return a.$4("intern")}}),b("React").jsx(n,{label:"Production",onclick:function(){return a.$4("prod")}}),c]})};d.$5=function(a){var c=b("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({enabled:a}).setMethod("POST").setAllowCrossPageTransition(!0).send()};d.$4=function(a){var c,d=b("MessengerEnvironment").facebookdotcom?".facebook.com":".messenger.com";c=(c=b("WorkModeConfig").company_subdomain)!=null?c:"www";c=c+(a!=null?"."+a:"")+d;b("goURI")((j||(j=b("URI"))).getRequestURI().getQualifiedURI().setDomain(c))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("MessengerRadioButtonReact.bs",["cx","React","bs_caml_option","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c={checked:a.checked,className:"__rm",disabled:a.disabled,name:a.name,onChange:a.onChange,value:a.value};a=b("bs_caml_option").undefined_to_opt(a.id);a!==void 0&&(c.id=b("bs_caml_option").valFromOption(a));return b("React").createElement(b("XUIRadioInput.react"),c)}f.make=a}),null);
__d("MessengerRadioList.react",["invariant","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","MessengerRadioButtonReact.bs","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.target instanceof HTMLInputElement||g(0,761),c.props.onSelect&&c.props.onSelect(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("li",{className:this.props.className,children:a.jsxs(b("InputLabel_DEPRECATED.react"),{display:"inline",children:[a.jsx(b("MessengerRadioButtonReact.bs").make,{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this.$1,value:this.props.value}),a.jsx(b("InputLabelLabel_DEPRECATED.react"),{children:this.props.children})]})})};return c}(b("React").Component);a.propTypes={disabled:(c=b("prop-types")).bool,name:c.string,onSelect:c.func,selectedValue:c.any,value:c.any};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").Children.map(this.props.children,function(a){return b("React").cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return b("React").jsx("ul",babelHelpers["extends"]({},this.props,{name:null,children:a}))};return c}(b("React").Component);d.propTypes={name:c.string,onValueChange:c.func,selectedValue:c.any};d.Item=a;e.exports=d}),null);
__d("MessengerInfoPanelEmoji.react",["ix","cx","fbt","Bootloader","CurrentUser","EmojiLikeConstants","Image.react","ImmutableObject","Keys","MercuryShareAttachmentRenderLocations","MessengerCustomColorUtils.bs","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","asset","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerHotLikeIconSVGM4React.bs").make,k=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",l=b("MessengerDotComAndInboxM4Check.bs").yes?"_6ybx":"";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault(),d.$5()},d.$3=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),d.$5())},d.$6=function(){d.$1&&d.$1.focus()},d.$4=function(a){d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.thread.customization_enabled)return null;var a=this.props.thread.custom_like_icon&&this.props.thread.custom_like_icon.emoji?b("MessengerSupportedEmojiUtils").getNewEmojiData(this.props.thread.custom_like_icon.emoji,b("EmojiLikeConstants").size.SMALL):null;a=a&&a.url?b("React").jsx(b("Image.react"),{src:a.url,className:"_12cp"}):b("CurrentUser").isWorkUser()?b("React").jsx(b("Image.react"),{src:g("470537")}):b("MessengerDotComAndInboxM4Check.bs").yes?b("React").jsx(j,{color:this.props.thread.gradient_colors&&this.props.thread.gradient_colors.length?this.props.thread.gradient_colors[this.props.thread.gradient_colors.length-1]:this.props.thread.solid_color?this.props.thread.solid_color:b("MessengerCustomColorUtils.bs").defaultColor()}):b("React").jsx(b("MessengerHotLikeOutlineSVG.react"),{color:this.props.thread.solid_color?this.props.thread.solid_color:"",height:"24px",width:"24px",location:b("MercuryShareAttachmentRenderLocations").MESSENGER});return b("React").jsxs("div",{className:k,onClick:this.$2,onKeyDown:this.$3,ref:this.$4,role:"button",tabIndex:"0",children:[b("React").jsx("div",{className:"_3szp",children:b("React").jsx("div",{className:l,children:a})}),b("React").jsx("div",{className:"_3szq",children:i._("Change Emoji")})]})};d.$5=function(){var a=this;b("Bootloader").loadModules(["MessengerChangeEmojiDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").jsx(d,{currentEmoji:a.props.thread.custom_like_icon?a.props.thread.custom_like_icon.emoji:String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI),onClose:a.$6,onSave:a.props.onChange})})},"MessengerInfoPanelEmoji.react")};return c}(b("React").PureComponent);a.propTypes={thread:b("prop-types").instanceOf(b("ImmutableObject")).isRequired,viewer:b("prop-types").string.isRequired,onChange:b("prop-types").func.isRequired};e.exports=a}),null);
__d("AARRGGBBColor.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"#"+a.slice(2,8)}f.toHex=a}),null);
__d("ImmutableArray.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.slice(0)}function b(a){return a.slice(0)}f.fromArray=a;f.toArray=b}),null);
__d("CustomizeChatGradientItemReact.bs",["cx","React","bs_belt_Option","bs_caml_option","AARRGGBBColor.bs","ImmutableArray.bs","MessengerColors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.theme;var c=a.gradient_colors;c=c!==void 0?b("MessengerColors").makeRadialGradient(b("ImmutableArray.bs").toArray(b("bs_caml_option").valFromOption(c).map(b("AARRGGBBColor.bs").toHex)),b("bs_belt_Option").getWithDefault(a.is_reversed_for_picker,!1)):"";return b("React").jsx("div",{"aria-label":a.accessibility_label,className:"_6kld",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color),backgroundImage:c}})}c=a;f.make=c}),null);
__d("CustomizeChatSolidItemReact.bs",["cx","React","AARRGGBBColor.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.theme;return b("React").jsx("div",{"aria-label":a.accessibility_label,className:"_6kle",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}})}c=a;f.make=c}),null);
__d("MessengerThreadTheme.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.gradient_colors;if(a!==void 0)return b("bs_caml_option").valFromOption(a).length!==0;else return!1}f.isGradient=a}),null);
__d("CustomizeChatColorItemReact.bs",["cx","React","Image.react","AARRGGBBColor.bs","MessengerThreadTheme.bs","CustomizeChatSolidItemReact.bs","CustomizeChatGradientItemReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a=a.theme;var c=a.icon_uri;if(c!==void 0)return b("React").jsx(b("Image.react"),{className:"_6kle",alt:a.accessibility_label,src:c,style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}});else{c=b("MessengerThreadTheme.bs").isGradient(a);if(c)return b("React").jsx(b("CustomizeChatGradientItemReact.bs").make,{theme:a});else return b("React").jsx(b("CustomizeChatSolidItemReact.bs").make,{theme:a})}}c=a;f.make=c}),null);
__d("FacepileRounded.bs",["ReasonReact.bs","bs_js_null_undefined","FacepileRounded.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==void 0)if(a)return"descending";else return"ascending"}function h(a){if(a!==void 0)switch(a){case 0:return"none";case 1:return"name";case 2:return"hovercard"}}function a(a,c,d,e,f,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("FacepileRounded.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),direction:l.fromOption(g(c)),hoverBehavior:l.fromOption(h(d)),imageSize:e,numProfilesToDisplay:f,profiles:i,remainingProfilesCount:l.fromOption(j)},k)}f.stringOfDirection=g;f.stringOfHoverBehavior=h;f.make=a}),null);
__d("MercuryThreadTimestampReact.re",["MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MercuryThreadTimestampReact.bs").make;f.make=a}),null);
__d("MessengerAddIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c,d=a.label,e=a.className;a=a.customColor;return(c=b("React")).jsx("div",{children:c.jsxs("svg",{children:[c.jsx("title",{children:d}),c.jsx("path",{clipRule:"evenodd",d:"M16,0 V32 M0,16 H32",fill:"none",fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})],viewBox:"-8 -8 48 48"}),className:e})}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerChangeColorDialogReact.bs",["ix","cx","fbt","bs_block","bs_curry","Image.bs","React","bs_belt_Array","bs_caml_option","fbglyph","ReasonReact.bs","AARRGGBBColor.bs","MessengerDialogs.bs","MessengerDialogReact.bs","CustomizeThreadThemeUtil","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","CustomizeChatColorItemReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReasonReact.bs").reducerComponent("MessengerChangeColorDialogReact");function k(a,c,d,e){__p&&__p();var f=function(a){if(a)return 0;else{b("bs_curry")._1(d,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)}};return[j[0],j[1],j[2],j[3],function(a){b("CustomizeThreadThemeUtil").fetchThemesForMessenger(function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))});return 0},j[5],j[6],j[7],function(c){var d,e=b("bs_belt_Array").map(c[1][1],function(d){var e=b("AARRGGBBColor.bs").toHex(d.fallback_color),f=e.toLowerCase()===a.toLowerCase();return b("React").createElement("div",{key:e,className:"_gs0",onClick:function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[d]))}},f?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_gs2",void 0,void 0,void 0,g("140201"),void 0,void 0,void 0,void 0,[])):null,b("React").createElement(b("CustomizeChatColorItemReact.bs").make,{theme:d}))}),h=i._("Pick a color for this conversation");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_gs3",b("bs_caml_option").some(h),f,void 0,c[1][0],void 0,void 0,335,void 0,void 0,[(d=b("React")).createElement(b("MessengerDialogHeaderReact.bs").make,{children:h}),d.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_7h5n",children:[d.createElement("div",{className:"_28he"},i._("Everyone in this conversation will see this.")),d.createElement("div",{className:"_gs4"},e)]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[]))]))]))},function(a){return[!0,[]]},j[10],function(d,e){if(d.tag)return b("bs_block").__(0,[[e[0],d[0]]]);else{var f=d[0];if(b("AARRGGBBColor.bs").toHex(f.fallback_color).toLowerCase()!==a.toLowerCase())return b("bs_block").__(2,[[!1,e[1]],function(a){return b("bs_curry")._1(c,f.id)}]);else return b("bs_block").__(0,[[!1,e[1]]])}},j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.currentColor,a.onSave,a.onClose,[])});c="Unknown Color";f.component=j;f.unknownColor=c;f.make=k;f.jsComponent=a}),null);
__d("MessengerChangeColorIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;return(d=b("React")).jsx("div",{children:d.jsxs("svg",{children:[d.jsx("title",{children:"colors@2x"}),d.jsx("path",{d:"M912,1569a3,3,0,1,1-3,3A3,3,0,0,1,912,1569Z",fill:c,transform:"translate(-895.5 -1561.5)"}),d.jsx("path",{d:"M924,1569a3,3,0,1,1-3,3A3,3,0,0,1,924,1569Z",fill:c,transform:"translate(-895.5 -1561.5)"}),d.jsx("path",{d:"M931,1579a3,3,0,1,1-3,3A3,3,0,0,1,931,1579Z",fill:c,transform:"translate(-895.5 -1561.5)"}),d.jsx("path",{d:"M905,1579a3,3,0,1,1-3,3A3,3,0,0,1,905,1579Z",fill:c,transform:"translate(-895.5 -1561.5)"}),d.jsx("path",{d:"M918,1562a22,22,0,0,0,0,44,3.67,3.67,0,0,0,2.71-6.14,3.65,3.65,0,0,1,2.74-6.09h4.33A12.23,12.23,0,0,0,940,1581.56C940,1570.75,930.15,1562,918,1562Z",fill:"transparent",stroke:c,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4%",transform:"translate(-895.5 -1561.5)"})],viewBox:"-1 -1 47 47"}),className:a})}f.make=a}),null);
__d("MessengerContextualDialogReact.bs",["bs_curry","ReasonReact.bs","bs_js_null_undefined","MessengerContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==void 0)switch(a){case 0:return"center";case 1:return"left";case 2:return"right"}}function a(a,c,d,e,f,h,i,j,k){if(d!==void 0){var l=d;d=function(a){return b("bs_js_null_undefined").fromOption(b("bs_curry")._1(l,0))}}else d=function(a){return};return b("ReasonReact.bs").wrapJsForReason(b("MessengerContextualDialog.react"),{alignment:b("bs_js_null_undefined").fromOption(g(a)),className:b("bs_js_null_undefined").fromOption(c),contextRef:d,offsetY:b("bs_js_null_undefined").fromOption(f),onBlur:b("bs_js_null_undefined").fromOption(e),onToggle:h,shown:b("bs_js_null_undefined").fromOption(i),width:b("bs_js_null_undefined").fromOption(j)},k)}f.stringOfAlignment=g;f.make=a}),null);
__d("MessengerDeliveryReceipt.bs",["bs_belt_Option","bs_belt_MapString"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(a,c),0)}c=b("bs_belt_Option").getWithDefault;f.$pipe$question=c;f.getDeliveryTimeOfThread=a}),null);
__d("MessengerDialogs.re",["bs_curry","MessengerDialogs.bs"],(function(a,b,c,d,e,f){a=b("MessengerDialogs.bs").showDialog;f.showDialog=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerDialogs.bs").removeDialog,a.dialog,c);return a};f.removeDialog=c;d=b("MessengerDialogs.bs").removeAllDialogs;f.removeAllDialogs=d}),null);
__d("MessengerInfoPanelCustomColorReact.bs",["cx","fbt","Keys","bs_curry","React","gkx","bs_caml_option","ReasonReact.bs","MessengerColors","MessengerDialogs.bs","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerChangeColorDialogReact.bs","MessengerChangeColorIconSVGReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function j(a,c){a=c[1][0][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus();else return 0}function k(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}var l=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelCustomColorReact");function a(a,c,d){__p&&__p();var e=function(d){return b("MessengerDialogs.bs").showDialog(function(e){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerChangeColorDialogReact.bs").make(b("MessengerCustomColorUtils.bs").customColorOrBlue(a),c,b("bs_curry")._1(d,j),[]))})},f=function(a,b){a.preventDefault();return e(b[0])},g=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return e(c[0])}else return 0};return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],function(c){if(a.customization_enabled){var d=b("gkx")("1229783");return b("React").createElement("div",{ref:b("bs_curry")._1(c[0],k),className:i,tabIndex:0,onKeyDown:b("bs_curry")._1(c[0],g),onClick:b("bs_curry")._1(c[0],f)},b("React").createElement("div",{className:"_3szp"},b("MessengerDotComAndInboxM4Check.bs").yes?b("React").createElement("div",{className:"_6ymp"},b("React").createElement("div",{className:"_6yme",style:b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0))},b("React").createElement("div",{className:"_6ymf"}))):b("MessengerChangeColorIconSVGReact.bs").make("_17vc",b("MessengerCustomColorUtils.bs").customColorOrBlue(a))),b("React").createElement("div",{className:"_3szq"},d?h._("Change Theme"):h._("Change Color")))}else return null},function(a){return[[void 0]]},l[10],function(a,b){return 0},l[12]]}f.rowClasses=i;f.handleDialogClose=j;f.setTheRef=k;f.component=l;f.make=a}),null);
__d("MessengerContentSearchFunnelLogger",["FunnelLogger","MessengerContentSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_NAME,h=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS,i=null,j=0,k=0,l=new Set(),m=0,n=0;function a(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=null,j=0,k=0,n=0,l.clear(),m=Date.now(),b("FunnelLogger").startFunnel(g),c&&b("FunnelLogger").addFunnelTag(g,c),b("FunnelLogger").setFunnelTimeout(g,86400),b("FunnelLogger").appendActionWithPayloadIfNew(g,h.INITIATE_CONTENT_SEARCH,babelHelpers["extends"]({query:a},c&&{entry_surface:c}))}function c(a){b("FunnelLogger").appendActionWithPayload(g,h.CHANGE_QUERY,{query:a})}function d(a){b("FunnelLogger").appendActionWithPayload(g,h.THREAD_IMPRESSIONS,{impressionList:a,latency:Date.now()-m})}function f(a,c){b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MORE_THREADS,{impressionList:a,latency:c})}function o(){n+=1}function p(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=a,j=0,n=0,l.clear(),b("FunnelLogger").appendActionWithPayload(g,h.SELECT_THREAD,{thread_id:a,has_results:c})}function q(a){j+=1,k+=1}function r(a,c,d){i=c,l.add(a),b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MESSAGE_IN_THREAD,{latency:d})}function s(a){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),a?b("FunnelLogger").appendActionWithTagAndPayloadIfNew(g,h.END_CONTENT_SEARCH,a,{totalBrowseActions:k}):b("FunnelLogger").appendActionWithPayloadIfNew(g,h.END_CONTENT_SEARCH,{totalBrowseActions:k}),b("FunnelLogger").endFunnel(g)}e.exports={browseMessageInThread:q,endFunnel:s,loadMessageInThread:r,logContextBrowse:o,logChangeQuery:c,logLoadMoreThreads:f,logThreadImpressions:d,logThreadSelect:p,startFunnel:a}}),null);
__d("MessengerThreadSearchIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";c=(a=b("React")).jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M15.499,9.000053 C11.909,9.000053 8.9995,11.9106492 8.9995,15.5009175 C8.9995,19.0911858 11.909,22.0022817 15.499,22.0022817 C19.0885,22.0022817 21.998,19.0911858 21.998,15.5009175 C21.998,11.9106492 19.0885,9.000053 15.499,9.000053 Z M25.4875,28.30874 L21.6335,23.8523894 C21.313,23.482068 20.7755,23.4056049 20.355,23.6574834 C18.934,24.5085729 17.276,25.0023347 15.499,25.0023347 C10.253,25.0023347 6,20.7483865 6,15.5009175 C6,10.2539482 10.253,6 15.499,6 C20.7445,6 24.9975,10.2539482 24.9975,15.5009175 C24.9975,17.2770608 24.5045,18.9357608 23.655,20.3565755 C23.4065,20.7708757 23.491,21.3016197 23.8555,21.6184668 L28.3065,25.4841024 L25.4875,28.30874 Z M28.3065,25.4841024 C29.183,26.2452352 29.231,27.5915859 28.4105,28.4131896 C27.591,29.2352931 26.247,29.1873162 25.4875,28.30874 L28.3065,25.4841024 Z",fill:"#000000"})],id:"Search"}),id:"magnifying-glass",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerThreadSearchIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;return(d=b("React")).jsx("div",{children:d.jsxs("svg",{children:[d.jsx("title",{children:"search conversation"}),d.jsx("circle",{cx:"28",cy:"28",fill:"none",r:"14",stroke:c,strokeMiterlimit:"10",strokeWidth:"2"}),d.jsx("path",{clipRule:"evenodd",d:"M50,50L37.9,37.9",fill:"none",fillRule:"evenodd",stroke:c,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})],viewBox:"8 8 48 48"}),className:a})}f.make=a}),null);
__d("MessengerInfoPanelSearchReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","Bootload.bs","asset","Bootloader","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerURIStore","MessengerSearchActions","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerThreadSearchIconSVGReact.bs","MessengerContentSearchFunnelLogger","MessengerThreadSearchIconSVGM4React.bs","MessengerContentSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerContentSearchFunnelLogger.bs"],a,"MessengerInfoPanelSearchReact.bs");return 0}d={doLoad:a};var j=b("Bootload.bs").Create(d);function k(a,c){b("MessengerContentSearchFunnelLogger").startFunnel(a,b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_WITHIN_THREAD);return 0}function l(a){a=b("MessengerURIStore").getState().query;a=a==null;b("MessengerSearchActions").changeQuery(a?"":void 0);return 0}function m(a){var c=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("MessengerURIStore").getState().query),"");b("bs_curry")._1(j.load,function(a){return k(c,a)});return l(0)}function n(a){a.preventDefault();return m(0)}function o(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return l(0)}else return 0}var p=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";e=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelSearchReact");function c(a){a=a.thread;return b("React").createElement("div",{className:p,tabIndex:0,onKeyDown:o,onClick:n},b("React").createElement("div",{className:"_3szp"},b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("465522"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?b("React").createElement("div",{className:"_6ybv"},b("MessengerThreadSearchIconSVGM4React.bs").icon):b("MessengerThreadSearchIconSVGReact.bs").make("_6b45",b("MessengerCustomColorUtils.bs").customColorOrBlue(a))),b("React").createElement("div",{className:"_3szq"},i._("Search in Conversation")))}h=b("bs_belt_Option").getWithDefault;a=c;c=c;f.$pipe$question=h;f.BootloadableMessengerContentSearchFunnelLogger=d;f.LoadableMessengerContentSearchFunnelLoggerRe=j;f.handleLoggerLoad=k;f.showQuery=l;f.handleSearchThread=m;f.handleSearchThreadClick=n;f.handleSearchThreadKeyDown=o;f.rowClasses=p;f.component=e;f.make=a;f.jsComponent=c}),null);
__d("MessengerInfoPanelSearchReact.re",["MessengerInfoPanelSearchReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerInfoPanelSearchReact.bs").handleSearchThread;f.handleSearchThread=a}),null);
__d("MessengerParticipants.re",["bs_curry","MessengerParticipants.bs"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").get,a,c);return a};f.get=a;c=b("MessengerParticipants.bs").getNow;f.getNow=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMulti,a,c);return a};f.getMulti=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMultiEager,a,c);return a};f.getMultiEager=e;a=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getMultiEagerMap,a,c);return a};f.getMultiEagerMap=a;c=b("MessengerParticipants.bs").removeCallback;f.removeCallback=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerParticipants.bs").getOrderedBigImageMulti,a,c);return a};f.getOrderedBigImageMulti=d}),null);
__d("MessengerReasonDialogContainerReact.bs",["bs_list","bs_array","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogs.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").reducerComponent("MessengerReasonDialogContainer");function h(a){__p&&__p();return[g[0],g[1],g[2],g[3],function(a){return b("MessengerDialogs.bs").addHandler(function(c){return b("bs_curry")._1(a[3],[c])})},g[5],g[6],g[7],function(a){a=a[1];if(a!==void 0)return b("React").jsx("div",{children:b("bs_array").of_list(b("bs_list").rev(a)).map(function(a,c){return b("React").jsx("span",{children:b("bs_curry")._1(a,0)},String(c))})});else return null},function(a){return},g[10],function(a,c){return b("bs_block").__(0,[a[0]])},g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h([])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerPromotionDataDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{strict:!0})||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a()}),null);
__d("MessengerURIListener",["Arbiter","MessengerActions","MessengerURISerializer","PageTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;a={start:function(){g||b("PageTransitions").registerHandler(h,6),g=!0},stop:function(){b("PageTransitions").removeHandler(h,6),g=!1}};function h(a){a=b("MessengerURISerializer").deserialize(a);if(a.notMessenger){b("Arbiter").subscribeOnce("page_transition",function(){g&&b("PageTransitions").registerHandler(h)});return!1}b("PageTransitions").transitionComplete();b("MessengerActions").changeState(a);return!0}e.exports=a}),null);
__d("MercuryShareAttachmentSnippet.react",["MercuryShareStyleMap","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(a&&a.factory&&!!a.factory.getSnippetComponent){var c=a.factory.getSnippetComponent();return b("React").jsx(c,babelHelpers["extends"]({},this.props,{attachment:a.attachment}))}return null};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryAttachmentSnippet.react",["cx","fbt","ix","EmoticonsList","Image.react","MercuryAttachment","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryIDs","MercuryShareAttachmentSnippet.react","MessengerParticipants.re","MessengerTextWithEmoticons.react","React","StickerConstants","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React").useEffect,k=b("React").useState;function a(a){__p&&__p();var c=a.thread;a=a.viewer;var d=c.snippet_sender,e=k(function(){return d!=null?b("MessengerParticipants.re").getNow(d):null}),f=e[0],g=e[1],m=c.snippet_attachments,n=l(d,a);j(function(){if(d==null)return;var a=b("MessengerParticipants.re").get(d,function(a){return g(a)});return function(){a&&b("MessengerParticipants.re").removeCallback(a)}},[c,a,f,d]);e=B();a=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(m);switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return o(e);case b("MercuryAttachmentSnippetType").GIF:return q(e);case b("MercuryAttachmentSnippetType").VIDEO:return r(e);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return s(e);case b("MercuryAttachmentSnippetType").LIKE_STICKER:return u(e);case b("MercuryAttachmentSnippetType").STICKER:return v(e);case b("MercuryAttachmentSnippetType").SHARE:return w(e);case b("MercuryAttachmentSnippetType").GIFT:return x(e);case b("MercuryAttachmentSnippetType").FILE:return p(e);case b("MercuryAttachmentSnippetType").ERROR:return A(e);case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return t(e);default:return y(e)}function o(a){return z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").PHOTO,n,a,m))}function p(a){return z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").FILE,n,a,m))}function q(a){return z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIF,n,a,m))}function r(a){return z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").VIDEO,n,a))}function s(a){return z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").AUDIO_CLIP,n,a))}function t(a){return b("React").jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER,n,a)})}function u(a){var d=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,text:b("EmoticonsList").symbols.like});if(n)return b("React").jsx("span",{children:h._("You: {conversation_snippet}",[h._param("conversation_snippet",d)])});else return c.is_canonical?b("React").jsx("span",{children:h._("{conversation_snippet}",[h._param("conversation_snippet",d)])}):b("React").jsx("span",{children:h._("{sender name}: {conversation_snippet}",[h._param("sender name",a),h._param("conversation_snippet",d)])})}function v(a){return b("React").jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").STICKER,n,a)})}function w(a){return m[0].share?b("React").jsx(b("MercuryShareAttachmentSnippet.react"),{attachment:m[0].share,senderName:a,isViewerSender:n}):z(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").SHARE,n,a))}function x(a){return b("React").jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIFT,n,a)})}function y(a){return b("React").jsx("span",{children:m.filter(function(a){return a.attach_type==="file"||a.attach_type==="photo"||a.attach_type==="video"}).map(function(a,b){return z(a.name,a.icon_type,b)})})}function z(a,c,d){c=b("MercuryAttachment").getAttachIconClass(c||m[0].icon_type);c=b("joinClasses")(c,"uiIconText _3l6h");return b("React").jsxs("span",{children:[b("React").jsx("span",{className:c,children:b("React").jsx(b("Image.react"),{src:i("86988")})}),a]},d)}function A(a){a=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").ERROR,n,a);return z(a)}function B(){if(d==null||n)return null;var a=b("MessengerParticipants.re").getNow(d);if(!a)return null;var e=b("MercuryIDs").getUserIDFromParticipantID(d);e=c.custom_nickname&&c.custom_nickname[e];e&&(e=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e}));return e?e:a.short_name}}function l(a,c){return!!(a!=null&&b("MercuryIDs").getParticipantIDFromUserID(c)==a)}e.exports=a}),null);
__d("AdPageMessageTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"})}),null);
__d("MNAdsLogMessageUtils",["AdPageMessageTypeEnum","MercuryConfig","MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryConfig").LOG_INTERVAL_MS||6e4;a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.isLoggedWithinInterval=function(a){return this.$1[a]&&this.$1[a]-Date.now()<g?!0:!1};c.setLoggingTime=function(a){this.$1[a]=Date.now()};c.logAdsThreadListImpression=function(a){switch(a.folder){case b("MessagingTag").INBOX:this.logWithThreadMetaData(a,"messenger_ads_message_seen_inbox");break;case b("MessagingTag").PENDING:this.logWithThreadMetaData(a,"messenger_ads_message_seen_request");break;default:return}};c.logWithThreadMetaData=function(a,c){if(a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD)return};return a}();e.exports=new a()}),null);
__d("MercuryThreadSnippet.react",["cx","fbt","MercuryAttachmentSnippet.react","MercuryIDs","MessengerTextWithEmoticons.react","MNAdsLogMessageUtils","React","StoryAttachmentStyle","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.shouldRenderYou!==a.shouldRenderYou||this.props.thread!==a.thread||this.props.viewer!==a.viewer||this.props.className!==a.className||!b("immutable").is(a.participants,this.props.participants)};d.render=function(){return b("React").jsxs("span",{className:this.props.className,children:[this.$1(),this.$2()]})};d.$1=function(){return!this.props.thread.snippet||!i(this.props.thread)?null:b("React").jsx("span",{className:"_j0r"})};d.$2=function(){__p&&__p();var a,c,d=this.props.thread,e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=d.snippet?d.snippet.toString():null,g=this.props.shouldRenderYou;if(d.snippetCount!=null)return h._({"*":"{number} results","_1":"1 result"},[h._plural(d.snippetCount,"number")]);c=(c=d)!=null?(c=c.snippet_attachments)!=null?(c=c[0])!=null?c.share:c:c:c;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;c=(c=c)!=null?c.title:c;if((a==="instant_games_leaderboard_update"||a==="instant_games_custom_update")&&c)return c;if(d.snippet_attachments&&d.snippet_attachments.length>0&&d.snippet_attachments[0].attach_type!=="share"||!d.snippet_sender)return this.$3(f);if(j(d))return b("React").jsx(b("MercuryAttachmentSnippet.react"),{thread:d,viewer:this.props.viewer});a=this.$3(f);if(d.last_message_admin_text_type!=null||d.last_message_unsendability_status==="deny_tombstone_message")return a;b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);c=k(d);if(c)return h._("{name}: {conversation_snippet}",[h._param("name",c),h._param("conversation_snippet",a)]);if(d.snippet_sender===e)return!g?a:h._("You: {conversation_snippet}",[h._param("conversation_snippet",a)]);if(b("MercuryIDs").isCanonical(d.thread_id)&&!this.props.shouldAlwaysRenderSender)return a;f=this.props.participants.get(d.snippet_sender);if(!f)return a;c=f.short_name||f.name;if(d){e=d.custom_nickname?d.custom_nickname:null;g=b("MercuryIDs").getUserIDFromParticipantID(f.id);e&&g&&e[g]&&(c=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e[g]}))}return!c?a:h._("{name}: {conversation_snippet}",[h._param("name",c),h._param("conversation_snippet",a)])};d.$3=function(a){if(a&&a.startsWith("?OTR"))return h._("[encrypted message]");var c=this.props.thread;if(i(c))return b("React").jsx(b("MercuryAttachmentSnippet.react"),{thread:c,viewer:this.props.viewer});return a?b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a}):null};return c}(b("React").Component);a.propTypes={participants:(c=b("prop-types")).instanceOf(b("immutable").Map).isRequired,shouldAlwaysRenderSender:c.bool,shouldRenderYou:c.bool,thread:c.object.isRequired,viewer:c.string.isRequired};function i(a){return!!(a.snippet_attachments&&a.snippet_attachments.length>0&&!(a.snippet_attachments[0].attach_type==="share"&&(!a.snippet_attachments[0].share||a.snippet_attachments[0].share.subattachments.length===0)))}function j(a){var b;a=a.snippet_attachments;return a&&a.length===1&&a[0].attach_type==="share"&&((b=a[0].share)==null?void 0:b.style_list)!=null&&(a[0].share.style_list.indexOf("message_location")>=0||a[0].share.style_list.indexOf("message_live_location")>=0)}function k(a){return a&&a.snippet_attachments&&a.snippet_attachments[0]&&a.snippet_attachments[0].share&&a.snippet_attachments[0].share.target&&a.snippet_attachments[0].share.target.genie_name?a.snippet_attachments[0].share.target.genie_name:null}e.exports=a}),null);
__d("MercuryMessageStore",["CurrentUser","LogHistory","MercuryAPIArgsSource","MercuryThreadInformer","MercuryThreadlistConstants","MessengerState.bs","SubscriptionsHandler","mixInEventEmitter","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_message_store");a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$5=a;this.$1=d||b("CurrentUser").getID();this.$2=1;this.$3=c||b("MercuryThreadlistConstants").RECENT_MESSAGES_LIMIT;this.$6=d?b("MercuryThreadInformer").getForFBID(d):b("MercuryThreadInformer").get();this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(this.$6.subscribe("messages-received",function(a,b){return e.$7(b)}),this.$6.subscribe("messages-updated",function(a,b){return b[e.$5]&&e.$8(b[e.$5])}),this.$6.subscribe("messages-deleted",function(a,b){return b[e.$5]&&e.$9(b[e.$5])}),this.$6.subscribe("messages-reordered",function(a,b){return b[e.$5]&&e.$10()}),this.$6.subscribe("thread-invalidated",function(a,b){return b[e.$5]&&e.$11()}));a=this.$12();g.debug("constructed",JSON.stringify({threadID:this.$5,messageCount:a}));a<this.$3?this.$13():b("setImmediate")(function(){e.$10()})}var c=a.prototype;c.destroy=function(){this.$4&&this.$4.release(),g.debug("destroyed",JSON.stringify({threadID:this.$5}))};c.subscribe=function(a){return this.addRetroactiveListener("updated",a)};c.fetchMoreMessages=function(){if(this.hasFetchedAll())return!1;this.$13();return!0};c.hasFetchedAll=function(){return b("MessengerState.bs").hasLoadedAllMessages(this.$1,this.$5)||b("MessengerState.bs").isNewEmptyLocalThread(this.$1,this.$5)};c.$12=function(){return b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5).length};c.$13=function(){var a=this,c=this.$3;b("MessengerState.bs").getThreadMessagesRange(this.$1,this.$5,this.$12(),c,this.$14.bind(this),null,b("MercuryAPIArgsSource").MERCURY);this.$2<10&&(this.$2+=1);b("MessengerState.bs").hasLoadedNMessages(this.$1,this.$5,c+this.$12())&&b("setImmediate")(function(){a.$10()})};c.$14=function(b){g.debug("fetch_messages",JSON.stringify({threadID:this.$5,fetchedMessagesCount:b&&b.length||0,messageCount:this.$12()})),b&&!b.length&&!this.$12()&&this.$15(a.THREAD_IS_EMPTY)};c.$7=function(b){var c=[];b=b[this.$5];b&&b.length&&(c=c.concat(b.filter(function(a){return!!a})));c.length&&this.$15(a.MESSAGES_RECEIVED)};c.$8=function(b){this.$15(a.MESSAGES_CHANGED)};c.$9=function(b){this.$15(a.MESSAGES_DELETED,b)};c.$10=function(){this.$15(a.MESSAGES_REORDERED)};c.$11=function(){this.$2=1,this.$13()};c.$15=function(a,c){var d=b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5);this.releaseHeldEventType("updated");this.emitAndHold("updated",{messages:d,deletedMessages:c,eventType:a})};return a}();Object.assign(a,{MESSAGES_FETCHED:"fetched",MESSAGES_CHANGED:"changed",MESSAGES_RECEIVED:"received",MESSAGES_REORDERED:"reordered",MESSAGES_DELETED:"deleted",THREAD_IS_EMPTY:"thread-is-empty"});b("mixInEventEmitter")(a,{updated:!0});e.exports=a}),null);
__d("MNCommerceDialogStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={showDialog:function(a,c){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.SHOW,dialogContainer:a,state:c})},hideDialog:function(){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.HIDE})}};e.exports=a}),null);
__d("MessengerSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={NAME:"WWW_MESSENGER_SEARCH_SESSION_FUNNEL",FETCHED_STATE_IMPRESSION_LIST:"fetched_state_impression_list",LOADING_STATE_IMPRESSION_LIST:"loading_state_impression_list",SEND_SERVER_REQUEST:"send_server_request",WWW_SIDEBAR_TAG:"www",MESSENGER_DOT_COM:"messenger_dot_com",UNIVERSAL_SEARCH:"universal_search",USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",MESSAGE:"message",SMS:"sms",SMS_GROUP:"sms_group",COWORKER:"coworker",OTHER:"other"}}),null);
__d("MessengerPromotionDataActions",["MessengerPromotionDataDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setPromotionData:function(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_PROMOTION_DATA",promotionData:a})}};e.exports=a}),null);
__d("WorkchatAppKeyboardShortcut.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_2_xt _4lrb",children:[b("React").jsx("div",{className:"_4lrc",children:this.props.label}),b("React").jsx("div",{className:"_4lrl",children:this.props.keys.map(function(a){return b("React").jsx("span",{className:"_4lrm",children:a},a)})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("WorkchatAppKeyboardShortcutsDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogHeaderReact.re","MessengerDialogs.re","MessengerDialogTitleReact.re","React","WorkchatAppKeyboardShortcut.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogHeaderReact.re").make,j=b("MessengerDialogTitleReact.re").make,k=b("immutable").List,l=function(a){return a==="darwin"?{CmdOrCtrl:"\u2318",Alt:"\u2387",Shift:"\u21e7",Tab:"\u21b9",Up:"\u2191",Down:"\u2193"}:{CmdOrCtrl:"Ctrl",Alt:"Alt",Shift:"Shift",Tab:"Tab",Up:"\u2191",Down:"\u2193"}},m=function(a){a=l(a);return k([{Header:"General",Shortcuts:k([{label:h._("Create new chat"),keys:k([a.CmdOrCtrl,"N"])},{label:h._("Search chats"),keys:k([a.CmdOrCtrl,"K"])},{label:h._("Show\/hide notifications"),keys:k([a.CmdOrCtrl,"/"])}])},{Header:"Navigation",Shortcuts:k([{label:h._("Go to previous chat"),keys:k([a.Alt,a.Up])},{label:h._("Go to next chat"),keys:k([a.Alt,a.Down])},{label:h._("Go to next element"),keys:k([a.Tab])},{label:h._("Open\/select element"),keys:k(["Spacebar"])}])},{Header:"In a Conversation",Shortcuts:k([{label:h._("Show\/hide information"),keys:k([a.CmdOrCtrl,"."])},{label:h._("Mute\/unmute chat"),keys:k([a.CmdOrCtrl,a.Shift,"M"])},{label:h._("Find in chat"),keys:k([a.CmdOrCtrl,"F"])}])},{Header:"During a Call",Shortcuts:k([{label:h._("Toggle mute"),keys:k(["M"])},{label:h._("Toggle video"),keys:k(["V"])}])}])};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=m(this.props.platform);return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:this.$1,type:"default",width:560,children:[a.jsxs(i,{children:[a.jsx(j,{children:h._("Keyboard Shortcuts")}),a.jsx(b("MessengerDialogButton.react"),{action:"cancel",label:h._("Done"),type:"primary",use:"default"})]}),a.jsx(b("MessengerDialogBody.react"),{children:this.$2(c)})]})};d.$2=function(a){return b("React").jsx("div",{className:"_4yne",children:a.map(function(a,c){return b("React").jsxs("div",{className:"_2_xt"+(c!==0?" _4ynf":""),children:[b("React").jsx("div",{className:"_4ynr",children:a.Header}),b("React").jsx("div",{children:a.Shortcuts.map(function(a){return b("React").jsx(b("WorkchatAppKeyboardShortcut.react"),{keys:a.keys,label:a.label},a.label)})})]},a.Header)})})};d.$1=function(a){a||b("MessengerDialogs.re").removeDialog({})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("WorkchatAppBridge",["fbt","Arbiter","CurrentLocale","CurrentUser","MercuryThreadActions","MercuryThreadInfo","MercuryThreadInformer","MessengerActions","MessengerDialogs.re","MessengerInfoPanelSearchReact.re","MessengerPromotionDataActions","MessengerSettingsActions","MessengerSettingsStore","MessengerState.re","MessengerURIListener","MessengerURIStore","React","WorkchatAppKeyboardShortcutsDialog.react","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={TOGGLE_NOTIFICATION_DIALOG:"TOGGLE_NOTIFICATION_DIALOG",toggleWorkNotificationJewel:function(){b("Arbiter").inform(h.TOGGLE_NOTIFICATION_DIALOG)},toggleKeyboardShortCutsList:function(a){b("MessengerDialogs.re").showDialog(function(){return b("React").jsx(b("WorkchatAppKeyboardShortcutsDialog.react"),{platform:a})})},toggleInfoPanel:function(){var a=b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!a})},getCurrentUser:function(){return{isWorkUser:b("CurrentUser").isWorkUser,isEmployee:b("CurrentUser").isEmployee,getID:b("CurrentUser").getID}},getCurrentLocale:function(){return b("CurrentLocale").get()},subscribeToUnseenMessageCount:function(a){var c=b("MercuryThreadInformer").get();c.subscribe("unseen-updated",function(){return a(b("MessengerState.re").getUnseenUnreadCount(b("CurrentUser").getID()))});c.subscribe("unread-updated",function(){return a(b("MessengerState.re").getUnseenUnreadCount(b("CurrentUser").getID()))})},enableDesktopNotifs:function(){b("MessengerSettingsActions").changeDesktopNotifs(!0)},onSampleTextFromThread:function(a){__p&&__p();function c(){var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;b("MessengerState.re").getThreadMessagesRange(b("CurrentUser").getID(),c,0,10,function(b){b=b.map(function(a){return a.body}).join("\n");a(b)})}c();b("MessengerURIStore").addListener("change",function(){c()})},selectThread:function(a){b("MessengerActions").selectThread("thread:"+a)},newThread:function(){b("MessengerActions").changeDetailView("detail/compose")},searchInChat:function(){b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!1}),b("MessengerInfoPanelSearchReact.re").handleSearchThread()},restartURIListener:function(){b("MessengerURIListener").stop(),b("MessengerURIListener").start()},initReloadEveryDayHack:function(){if(!b("gkx")("1063307"))return;b("setTimeout")(function(){b("MessengerURIListener").stop()},1e3*60*60*24)},toggleMuteConversation:function(){var a=b("CurrentUser").getID(),c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;var d=b("MessengerState.re").getThreadMetaNow(a,c);if(!d)return;d=b("MercuryThreadInfo").isMuted(d);a=b("MercuryThreadActions").getForFBID(a);d?a.unmute(c):a.updateMuteSetting(c,-1)},showAppUpdateBanner:function(a){b("MessengerPromotionDataActions").setPromotionData({promotionID:null,promotionContent:g._("A new version is available with improvements and fixes."),primaryActionTitle:g._("Click to update"),primaryActionCallback:a})},init:function(){if(window.workchat===void 0||typeof window.workchat.initMainWindow!=="function")return;window.workchat.initMainWindow(this);this.initReloadEveryDayHack()}};e.exports=h}),null);
__d("MessengerCowatchConfig",["gkx"],(function(a,b,c,d,e,f){"use strict";a={isMessengerDotComEntrypointEnabled:function(){return b("gkx")("939331")},hasZenonCowatchCapability:function(){return b("gkx")("939331")},hasZenonGroupCowatchCapability:function(){return b("gkx")("939331")}};e.exports=a}),null);
__d("isClickWithModifierKey",[],(function(a,b,c,d,e,f){function a(a){return a&&(a.ctrlKey||a.metaKey||a.shiftKey)}e.exports=a}),null);
__d("WIGCircleButton.react",["React","TetraCircleButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("React").jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({ref:c},a))}e.exports=b("React").forwardRef(a)}),null);
__d("WIGDropdownMenuItemIcon",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c={badge_empty:{normal:(a=b("fbicon"))._(g("1147792"),16),special:a._(g("1147791"),16)},badge_star:{normal:a._(g("949986"),16),special:a._(g("949982"),16)},building_city:{normal:a._(g("497092"),16),special:a._(g("497086"),16)},checkmark_selected:{normal:a._(g("498145"),16),special:a._(g("498145"),16)},checkmark_unselected:{normal:a._(g("545515"),16),special:a._(g("498145"),16)},cross_circle:{normal:a._(g("491583"),16),special:a._(g("491580"),16)},cross_circle_dark:{normal:a._(g("491583"),16),special:a._(g("491580"),16)},envelope:{normal:a._(g("495081"),16),special:a._(g("495078"),16)},envelope_open:{normal:a._(g("615630"),16),special:a._(g("682722"),16)},settings:{normal:a._(g("497569"),16),special:a._(g("497566"),16)},bell_null:{normal:a._(g("532355"),16),special:a._(g("532352"),16)},settings_filled:{normal:a._(g("497569"),16),special:a._(g("497566"),16)},bell:{normal:a._(g("532355"),16),special:a._(g("532352"),16)},bell_null_cross:{normal:a._(g("549627"),16),special:a._(g("569284"),16)},news_feed:{normal:a._(g("607152"),16),special:a._(g("607146"),16)},tag:{normal:a._(g("502477"),16),special:a._(g("502471"),16)},pushpin:{normal:a._(g("511757"),16),special:a._(g("511755"),16)},pushpin_slash:{normal:a._(g("832465"),16),special:a._(g("832463"),16)},report:{normal:a._(g("490582"),16),special:a._(g("490579"),16)},leave:{normal:a._(g("538182"),16),special:a._(g("538179"),16)},leave_door:{normal:a._(g("951890"),16),special:a._(g("951887"),16)},badge_admin:{normal:a._(g("534296"),16),special:a._(g("530473"),16)},badge_moderator:{normal:a._(g("507493"),16),special:a._(g("487603"),16)},line_chart:{normal:a._(g("487672"),16),special:a._(g("487669"),16)},box:{normal:a._(g("485304"),16),special:a._(g("485302"),16)},cross:{normal:a._(g("478237"),16),special:a._(g("478232"),16)},friend_add:{normal:a._(g("497889"),16),special:a._(g("497883"),16)},friend_confirm:{normal:a._(g("538343"),16),special:a._(g("538341"),16)},friend_list:{normal:a._(g("949992"),16),special:a._(g("949990"),16)},friends:{normal:a._(g("487561"),16),special:a._(g("487557"),16)},friends_plus:{normal:a._(g("861525"),16),special:a._(g("861522"),16)},follow:{normal:a._(g("618355"),16),special:a._(g("618352"),16)},unfollow:{normal:a._(g("578905"),16),special:a._(g("578902"),16)},customize:{normal:a._(g("868371"),16),special:a._(g("868368"),16)},text:{normal:a._(g("480549"),16),special:a._(g("480545"),16)},photo:{normal:a._(g("496945"),16),special:a._(g("507628"),16)},emoji:{normal:a._(g("509925"),16),special:a._(g("509921"),16)},pencil:{normal:a._(g("477830"),16),special:a._(g("477825"),16)},pencil_underline:{normal:a._(g("987427"),16),special:a._(g("987414"),16)},color:{normal:a._(g("785871"),16),special:a._(g("785868"),16)},trash:{normal:a._(g("483828"),16),special:a._(g("483825"),16)},privacy:{normal:a._(g("497247"),16),special:a._(g("497244"),16)},caution_octagon:{normal:a._(g("599483"),16),special:a._(g("599480"),16)},hide:{normal:a._(g("577042"),16),special:a._(g("577039"),16)},undo:{normal:a._(g("477835"),16),special:a._(g("685851"),16)},confirmation:{normal:a._(g("479179"),16),special:a._(g("479176"),16)},claim:{normal:a._(g("652513"),16),special:a._(g("652510"),16)},download:{normal:a._(g("489717"),16),special:a._(g("489711"),16)},friend_request:{normal:a._(g("502673"),16),special:a._(g("502670"),16)},minus_circle:{normal:a._(g("494415"),16),special:a._(g("494413"),16)},megaphone:{normal:a._(g("534264"),16),special:a._(g("534261"),16)},envelope_send:{normal:a._(g("488896"),16),special:a._(g("488894"),16)},upload:{normal:a._(g("568448"),16),special:a._(g("568446"),16)},arrow_move:{normal:a._(g("697184"),16),special:a._(g("697183"),16)},bookmark:{normal:a._(g("495616"),16),special:a._(g("495586"),16)},list_bullet:{normal:a._(g("486362"),16),special:a._(g("486350"),16)},language:{normal:a._(g("578329"),16),special:a._(g("578328"),16)},moon:{normal:a._(g("832947"),16),special:a._(g("832939"),16)},moon_filled:{normal:a._(g("832939"),16),special:a._(g("832939"),16)},friend_block:{normal:a._(g("482897"),16),special:a._(g("482896"),16)},square_corner_bottom_right_box:{normal:a._(g("1147794"),16),special:a._(g("1147793"),16)},resize_down:{normal:a._(g("517760"),16),special:a._(g("517757"),16)},resize_up:{normal:a._(g("517765"),16),special:a._(g("517762"),16)},broom:{normal:a._(g("657222"),16),special:a._(g("657218"),16)},group:{normal:a._(g("485100"),16),special:a._(g("485088"),16)},group_checkmark:{normal:a._(g("1009565"),16),special:a._(g("1009563"),16)},group_arrow_right:{normal:a._(g("1009555"),16),special:a._(g("1009555"),16)},group_plus:{normal:a._(g("943401"),16),special:a._(g("943398"),16)},play_circle:{normal:a._(g("656364"),16),special:a._(g("656358"),16)},stop:{normal:a._(g("538078"),16),special:a._(g("538075"),16)},info_cursive:{normal:a._(g("721632"),16),special:a._(g("721632"),16)},copy:{normal:a._(g("500198"),16),special:a._(g("500198"),16)},workplace:{normal:a._(g("587156"),16),special:a._(g("587156"),16)},magic_wand:{normal:a._(g("688907"),16),special:a._(g("688904"),16)},slash_circle:{normal:a._(g("812005"),16),special:a._(g("648668"),16)},documents:{normal:a._(g("620424"),16),special:a._(g("620422"),16)},direct:{normal:a._(g("587475"),16),special:a._(g("583727"),16)},friend_edit:{normal:a._(g("584466"),16),special:a._(g("584463"),16)},friend_remove:{normal:a._(g("664706"),16),special:a._(g("664704"),16)},import_export:{normal:a._(g("514766"),16),special:a._(g("514766"),16)},link:{normal:a._(g("481765"),16),special:a._(g("481759"),16)},privacy_unlocked:{normal:a._(g("551188"),16),special:a._(g("551185"),16)},briefcase:{normal:a._(g("481907"),16),special:a._(g("481904"),16)},folder:{normal:a._(g("709654"),16),special:a._(g("709650"),16)},caution:{normal:a._(g("1071941"),16),special:a._(g("1071938"),16)},post:{normal:a._(g("729678"),16),special:a._(g("729675"),16)},life_preserver:{normal:a._(g("822483"),16),special:a._(g("822480"),16)},bulb:{normal:a._(g("492706"),16),special:a._(g("492700"),16)},star:{normal:a._(g("479360"),16),special:a._(g("479324"),16)},star_slash:{normal:a._(g("1209583"),16),special:a._(g("1209576"),16)},plus_circle:{normal:a._(g("487089"),16),special:a._(g("487086"),16)},arrow_left:{normal:a._(g("512649"),16),special:a._(g("512645"),16)},arrow_right:{normal:a._(g("514458"),16),special:a._(g("514452"),16)},desktop_feed:{normal:a._(g("584519"),16),special:a._(g("560108"),16)},phone:{normal:a._(g("558163"),16),special:a._(g("558160"),16)},camcorder:{normal:a._(g("493175"),16),special:a._(g("493173"),16)},calendar_add:{normal:a._(g("640915"),16),special:a._(g("640912"),16)},messages_compose:{normal:a._(g("518663"),16),special:a._(g("968824"),16)},account_switch:{normal:a._(g("681066"),16),special:a._(g("681064"),16)}};e.exports=c}),null);
__d("WIGProgressIndicator.react",["CometProgressIndicator.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("CometProgressIndicator.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("useAjaxifiedOnClick__DEPRECATED",["requireCond","Parent","cr:1213883","React","ReactFlareEventUtils","URI","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useCallback,i=b("ReactFlareEventUtils").createFromReactFlareEvent;function a(a,c){__p&&__p();return h(function(d){__p&&__p();if(b("cr:1213883")==null){b("recoverableViolation")("useAjaxifiedOnClick__DEPRECATED is not supported in Gemini!","work_comet_core");return}if(a==null||c==null)return;var e=(g||(g=b("URI"))).normalize(a),f=d.type==="press"?i(d):d.nativeEvent;d.type!=="press"&&d.persist();d=f.target||f.srcElement;var h=b("Parent").byTag(d,"A")||d;b("cr:1213883").primerHandleAjaxify(f,h,d,e,c)},[a,c])}e.exports=a}),null);
__d("WIGDropdownMenuItem.react",["ix","fbt","CometComponentWithKeyCommands.react","CometKeys","CometMenuContext","CometMenuItemHighlightContext","Locale","React","URI","WIGDropdownMenuItemIcon","WIGDropdownMenuPage.react","WIGDropdownMenuPageDataContext","WIGIcon.react","WIGPressable.react","WIGProgressIndicator.react","WIGTextPairing.react","WIGToggle.react","WorkGalahadHoverHelper","cometTestID","fbicon","isClickWithModifierKey","stylex","useAjaxifiedOnClick__DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=(k=b("React")).useCallback,m=k.useContext,n=k.useEffect,o=k.useRef,p=k.useState,q=b("WorkGalahadHoverHelper").useHover,r={chevron:{position:"i8ovu4tj",end:"qbu3nkjx",top:"ijq9shbx",transform:"q8s3lw0m"},chevronIcon:{},header:{boxSizing:"tdgv6ycz",color:"rbhr0lfg",fontSize:"rdm7bxnq",fontWeight:"e7asi6j9",lineHeight:"gavvkyh2",paddingTop:"e2x4ottw",paddingEnd:"mnzdkzh8",paddingBottom:"mnv1rzui",paddingStart:"b3dg2zbw",width:"lenub8rc"},content:{alignItems:"t36ehdhz",display:"mu99tzkh",flexDirection:"sulwup3a",flexGrow:"ftjbd6cl",justifyContent:"akl1aaa0",minWidth:"f0w9ysip"},ie11Fix:{width:"lenub8rc"},disabled:{cursor:"suox7tme"},"static":{cursor:"lh9u6eu3",paddingTop:"s9o98cno",paddingEnd:"q8ag7aew",paddingBottom:"sgyxnsb9",paddingStart:"spg5mz9m"},highlighted:{cursor:"q32uoppu"},hovered:{backgroundColor:"k4y1nkyb",color:"ik525qym"},icon:{display:"mu99tzkh",marginEnd:"ewe7nd7x",minWidth:"j3mply6f"},listItem:{appearance:"q6hehfbq",backgroundColor:"gn4v5x10",borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",cursor:"q32uoppu",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",borderTopStartRadius:"qmeogzn2",borderTopEndRadius:"u6iefp1u",borderBottomEndRadius:"e1xo9hdk",borderBottomStartRadius:"q9gqyozj",display:"mu99tzkh",flexDirection:"sulwup3a",marginTop:"kyu6y8np",marginEnd:"jh2r1o7q",marginBottom:"jgcuv4po",marginStart:"th886wed",textAlign:"p0sx10uy"},listItemWithContent:{paddingTop:"qtqska47",paddingEnd:"q8ag7aew",paddingBottom:"frd5t9lq",paddingStart:"spg5mz9m"},listItemWithoutContent:{alignItems:"t36ehdhz"},listItemWithIcon:{paddingTop:"s9o98cno",paddingEnd:"q8ag7aew",paddingBottom:"sgyxnsb9",paddingStart:"spg5mz9m"},loading:{marginStart:"ao5u0itg",marginEnd:"hubl8unh",minWidth:"ecfnmvjv"},root:{alignItems:"qzq7978s",display:"mu99tzkh",flexDirection:"tv52aht6"},separatorBorder:{borderBottom:"l07gckn7",width:"lenub8rc"},separatorContainer:{boxSizing:"tdgv6ycz",paddingTop:"b5mg2iqh",paddingEnd:"q8ag7aew",paddingBottom:"r8mubyy5",paddingStart:"spg5mz9m",width:"lenub8rc"},toggleContainer:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"fnknxenh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexDirection:"sulwup3a",alignItems:"t36ehdhz",width:"lenub8rc",justifyContent:"akl1aaa0",color:"rbhr0lfg"},toggleContainerWithoutIcon:{marginTop:"bv6y7xb9",marginEnd:"ewe7nd7x",marginBottom:"tgxds0u3",marginStart:"q877oug0"},toggleContainerHovered:{color:"ik525qym"}},s=function(a){a=a.children;return a};function t(a){return b("React").jsx(u,babelHelpers["extends"]({},a))}function u(a){__p&&__p();a.id;var c=a.label,d=a.onClick,e=a.icons,f=a.desc,k=a.isStatic,q=k===void 0?!1:k;k=a.href;var u=a.ajaxify,v=a.rel,w=a.hideOnClick;w=w===void 0?!0:w;var x=a.navigateBackOnClick,y=x===void 0?!1:x;x=a.items;x=x===void 0?[]:x;var z=a.isLoading,A=z===void 0?!1:z;z=a.LinkRenderer;var B=a.testid;B=B===void 0?"wig-dropdown-menu-item":B;var C=a.isDisabled,D=C===void 0?!1:C,E=a.children;C=a.target;var F=a.role;a=a.isChecked;a=a===void 0?!1:a;var G=p(!1),H=G[0],I=G[1];G=p(!1);var J=G[0],K=G[1],L=A||q,M=x!=null&&x.length>0;G=!1;var N=null;e!=null&&(N=b("WIGDropdownMenuItemIcon")[e]);var O=b("useAjaxifiedOnClick__DEPRECATED")(u,v);u=(e=z)!=null?e:s;v=m(b("CometMenuContext"));var P=w===!0&&x.length===0?v&&v.onClose:null,Q=b("Locale").isRTL()?b("fbicon")._(g("512645"),16):b("fbicon")._(g("514452"),16);z=m(b("WIGDropdownMenuPageDataContext"));var R=z.moveFocus,S=z.pushPage,T=z.returnToPreviousPage,U=z.width,V=o(x);V.current=x;var W=l(function(){if(M){var a=b("React").jsx(t,{id:"back_button",icons:b("Locale").isRTL()?"arrow_right":"arrow_left",desc:h._("Back"),hideOnClick:!1,navigateBackOnClick:!0},"back-button"),c=b("React").jsx(t.Separator,{},"back-button-separator");K(!0);S(function(d){var e=d.onReturn;return b("React").jsx(b("WIGDropdownMenuPage.react"),{items:[a,c].concat(V.current),width:U,pushPage:S,returnToPreviousPage:function(){K(!1),e()},label:""})})}},[M,S,U]);e=[{command:{key:b("CometKeys").UP},description:h._("Move to previous item"),handler:function(){R(!0)}},{command:{key:b("CometKeys").DOWN},description:h._("Move to next item"),handler:function(){R(!1)}},{command:{key:b("CometKeys").LEFT},description:h._("Move to parent menu"),handler:function(){T!=null&&y===!0&&T()}},{command:{key:b("CometKeys").RIGHT},description:h._("Move to child menu"),handler:function(){W()}}];n(function(){H&&P&&P()},[H,P]);w=F==="checkbox"?{role:"menuitemcheckbox","aria-checked":a}:F==="radio"?{role:"menuitemradio","aria-checked":a}:{role:"menuitem"};return b("React").jsx("li",babelHelpers["extends"]({className:(i||(i=b("stylex")))(r.root),role:"presentation"},b("cometTestID")(B),{children:u({hovered:G,children:b("React").jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:e,children:b("React").jsx(b("WIGPressable.react"),babelHelpers["extends"]({},b("cometTestID")("wig-dropdown-menu-item-pressable"),w,{"aria-haspopup":M?"menu":null,"aria-expanded":M?J:null,disabled:D,onHoverChange:function(a){G=!q&&a},onPress:function(a){if(b("isClickWithModifierKey")(a))return;!D&&!L&&(O(a),d&&d(a),M?W():T!=null&&y===!0&&T(),I(!0))},linkProps:k!=null?{url:(j||(j=b("URI"))).normalize(k),target:C}:void 0,focusable:!q,overlayDisabled:q,xstyle:function(a){var b=a.focused,c=a.hovered;a.pressed;return[r.listItem,E==null&&r.listItemWithContent,E!=null&&r.listItemWithoutContent,N!=null&&r.listItemWithIcon,b&&r.highlighted,q&&r["static"],D&&r.disabled,!q&&c&&r.hovered]},display:"inline",children:function(a){__p&&__p();var d=a.focused,e=a.hovered,g=a.overlay;a.pressed;a=typeof c==="function"?c({hovered:e}):c;var h=typeof f==="function"?f({hovered:e}):f,j,k,l;if(a!=null&&h!=null)j=a,l=h;else{k=(a=a)!=null?a:h}D?h=a="disabled":e&&!q?h=a="white":(h="primary",a="secondary");return b("React").jsxs(b("CometMenuItemHighlightContext").Provider,{value:d,children:[A?b("React").jsx("div",{className:(i||(i=b("stylex")))(r.loading),children:b("React").jsx(b("WIGProgressIndicator.react"),{size:"small",overrideBGColorContext:e?"media":"primary"})}):N!=null?b("React").jsx("div",{className:(i||(i=b("stylex")))(r.icon),children:b("React").jsx(b("WIGIcon.react"),{icon:e?N.special:N.normal,color:h})}):null,E!=null?E(e):b("React").jsxs("div",{className:(i||(i=b("stylex")))(r.content),children:[b("React").jsx("div",{className:(i||(i=b("stylex")))(r.ie11Fix),children:b("React").jsx(b("WIGTextPairing.react"),{headline:j,headlineColor:h,level:4,body:k,bodyColor:h,meta:l,metaColor:a,reduceEmphasis:!0})}),(e||d)&&M?b("React").jsx("div",{className:(i||(i=b("stylex")))(r.chevron),children:b("React").jsx("div",{className:(i||(i=b("stylex")))(r.chevronIcon),children:b("React").jsx(b("WIGIcon.react"),{icon:Q,color:h})})}):null]}),g]})}}))})})}))}function a(){return b("React").jsx("li",babelHelpers["extends"]({role:"separator","aria-orientation":"horizontal",className:(i||(i=b("stylex")))(r.separatorContainer)},b("cometTestID")("wig-dropdown-menu-item"),{children:b("React").jsx("div",{className:i(r.separatorBorder)})}))}function c(a){a=a.label;var c=q(),d=c[0];c=c[1];return b("React").jsx("li",babelHelpers["extends"]({role:"presentation",className:(i||(i=b("stylex")))(r.header)},c,b("cometTestID")("wig-dropdown-menu-item"),{children:typeof a==="function"?a({hovered:d}):a}))}function d(a){var c=a.isChecked,d=a.label,e=a.onClick,f=a.icons,g=a.desc,h=a.toggleLabel;a=a.isDisabled;var j=a===void 0?!1:a;return b("React").jsx(u,{id:"checkbox",isChecked:c,role:"checkbox",icons:f,onClick:e,children:function(a){return b("React").jsxs("span",{className:(i||(i=b("stylex")))(r.toggleContainer,a&&r.toggleContainerHovered,f==null&&r.toggleContainerWithoutIcon),children:[b("React").jsx(b("WIGTextPairing.react"),{body:typeof d==="function"?d({hovered:a}):d,meta:typeof g==="function"?g({hovered:a}):g,level:4,metaColor:a?"white":void 0,bodyColor:a?"white":void 0}),b("React").jsx(b("WIGToggle.react"),{label:h,size:"small",value:c,onClick:function(a){return e&&e(a)},disabled:j})]})}})}function f(a){var c=a.isChecked;a=babelHelpers.objectWithoutPropertiesLoose(a,["isChecked"]);return b("React").jsx(u,babelHelpers["extends"]({isChecked:c,role:"radio",icons:c?"checkmark_selected":"checkmark_unselected"},a))}t.Separator=a;t.Header=c;t.Checkbox=d;t.Radio=f;e.exports=t}),null);
__d("AtSignAllowEmptyMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){__p&&__p();a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";f="(?:\\.[ |$]| |["+a+"]|)";var g=new RegExp("(?:^|\\s|[(\\/])(["+c+"]((?:"+d+f+"){0,20}))$");b={name:"AtSignAllowEmptyMentionsStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){var b=a[2];return{matchingString:b,leadOffset:a[1].length}}return null}};e.exports=b}),null);
__d("bs_js_exn",["bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){throw new Error(a)}function c(a){throw new EvalError(a)}function d(a){throw new RangeError(a)}function e(a){throw new ReferenceError(a)}function g(a){throw new SyntaxError(a)}function h(a){throw new TypeError(a)}function i(a){throw new URIError(a)}b=b("bs_caml_js_exceptions").$$Error;f.$$Error=b;f.raiseError=a;f.raiseEvalError=c;f.raiseRangeError=d;f.raiseReferenceError=e;f.raiseSyntaxError=g;f.raiseTypeError=h;f.raiseUriError=i}),null);
__d("XMessagingSetThreadImageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_image/",{})}),null);
__d("XMessengerDotComNUXLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logging/promotion/",{promotion_id:{type:"Int",required:!0},instance_log_data:{type:"StringToStringMap",defaultValue:{}}})}),null);